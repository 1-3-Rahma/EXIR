{"ast":null,"code":"import React,{useState,useEffect}from'react';import Layout from'../../components/common/Layout';import{nurseAPI}from'../../services/api';import{FiSearch,FiUser,FiActivity,FiAlertCircle}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NursePatients=()=>{const[patients,setPatients]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{fetchPatients();},[]);const fetchPatients=async()=>{try{const response=await nurseAPI.getAssignedPatients();setPatients(response.data);}catch(error){console.error('Failed to fetch patients:',error);}finally{setLoading(false);}};const filteredPatients=patients.filter(p=>{var _p$fullName,_p$nationalID;return((_p$fullName=p.fullName)===null||_p$fullName===void 0?void 0:_p$fullName.toLowerCase().includes(searchTerm.toLowerCase()))||((_p$nationalID=p.nationalID)===null||_p$nationalID===void 0?void 0:_p$nationalID.includes(searchTerm));});return/*#__PURE__*/_jsxs(Layout,{appName:\"NurseHub\",role:\"nurse\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Patients\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View and manage your assigned patients\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-wrapper\",children:[/*#__PURE__*/_jsx(FiSearch,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search patients by name or ID...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading patients...\"}):filteredPatients.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-notifications\",children:\"No patients found\"}):/*#__PURE__*/_jsx(\"div\",{className:\"patient-list\",children:filteredPatients.map(patient=>/*#__PURE__*/_jsxs(\"div\",{className:\"patient-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"patient-avatar\",children:/*#__PURE__*/_jsx(FiUser,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:patient.fullName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"ID: \",patient.nationalID]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Room: \",patient.room||'N/A']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"patient-status\",children:patient.hasCriticalVitals?/*#__PURE__*/_jsxs(\"span\",{className:\"status-badge critical\",children:[/*#__PURE__*/_jsx(FiAlertCircle,{}),\" Critical\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"status-badge stable\",children:[/*#__PURE__*/_jsx(FiActivity,{}),\" Stable\"]})}),/*#__PURE__*/_jsx(\"button\",{className:\"view-btn\",children:\"View Details\"})]},patient._id))})})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        .patient-list {\\n          display: flex;\\n          flex-direction: column;\\n          gap: 1rem;\\n        }\\n        .patient-card {\\n          display: flex;\\n          align-items: center;\\n          gap: 1rem;\\n          padding: 1rem;\\n          border: 1px solid var(--border-color);\\n          border-radius: var(--radius-md);\\n          transition: all 0.2s;\\n        }\\n        .patient-card:hover {\\n          border-color: var(--accent-blue);\\n          box-shadow: var(--shadow-sm);\\n        }\\n        .patient-avatar {\\n          width: 48px;\\n          height: 48px;\\n          background: var(--bg-light);\\n          border-radius: var(--radius-full);\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          font-size: 1.25rem;\\n          color: var(--text-secondary);\\n        }\\n        .patient-info {\\n          flex: 1;\\n        }\\n        .patient-info h3 {\\n          font-size: 1rem;\\n          font-weight: 500;\\n          margin-bottom: 0.25rem;\\n        }\\n        .patient-info p {\\n          font-size: 0.8rem;\\n          color: var(--text-secondary);\\n        }\\n        .status-badge {\\n          display: flex;\\n          align-items: center;\\n          gap: 0.25rem;\\n          padding: 0.375rem 0.75rem;\\n          border-radius: var(--radius-full);\\n          font-size: 0.8rem;\\n          font-weight: 500;\\n        }\\n        .status-badge.critical {\\n          background: rgba(239, 68, 68, 0.1);\\n          color: var(--accent-red);\\n        }\\n        .status-badge.stable {\\n          background: rgba(34, 197, 94, 0.1);\\n          color: var(--accent-green);\\n        }\\n        .view-btn {\\n          background: var(--accent-blue);\\n          color: white;\\n          border: none;\\n          padding: 0.5rem 1rem;\\n          border-radius: var(--radius-md);\\n          font-size: 0.8rem;\\n          cursor: pointer;\\n          transition: background 0.2s;\\n        }\\n        .view-btn:hover {\\n          background: var(--primary-blue);\\n        }\\n      \"})]});};export default NursePatients;","map":{"version":3,"names":["React","useState","useEffect","Layout","nurseAPI","FiSearch","FiUser","FiActivity","FiAlertCircle","jsx","_jsx","jsxs","_jsxs","NursePatients","patients","setPatients","loading","setLoading","searchTerm","setSearchTerm","fetchPatients","response","getAssignedPatients","data","error","console","filteredPatients","filter","p","_p$fullName","_p$nationalID","fullName","toLowerCase","includes","nationalID","appName","role","children","className","type","placeholder","value","onChange","e","target","length","map","patient","room","hasCriticalVitals","_id"],"sources":["E:/ECU-Materials/Senior - 2/Graduation Project/semester 2 isa/software reham- rahma/v1 soft app/EXIR/frontend/src/pages/nurse/NursePatients.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Layout from '../../components/common/Layout';\r\nimport { nurseAPI } from '../../services/api';\r\nimport { FiSearch, FiUser, FiActivity, FiAlertCircle } from 'react-icons/fi';\r\n\r\nconst NursePatients = () => {\r\n  const [patients, setPatients] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchPatients();\r\n  }, []);\r\n\r\n  const fetchPatients = async () => {\r\n    try {\r\n      const response = await nurseAPI.getAssignedPatients();\r\n      setPatients(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch patients:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredPatients = patients.filter(p =>\r\n    p.fullName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    p.nationalID?.includes(searchTerm)\r\n  );\r\n\r\n  return (\r\n    <Layout appName=\"NurseHub\" role=\"nurse\">\r\n      <div className=\"page-header\">\r\n        <h1>My Patients</h1>\r\n        <p>View and manage your assigned patients</p>\r\n      </div>\r\n\r\n      <div className=\"search-section\">\r\n        <div className=\"search-input-wrapper\">\r\n          <FiSearch />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search patients by name or ID...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          {loading ? (\r\n            <p>Loading patients...</p>\r\n          ) : filteredPatients.length === 0 ? (\r\n            <p className=\"no-notifications\">No patients found</p>\r\n          ) : (\r\n            <div className=\"patient-list\">\r\n              {filteredPatients.map((patient) => (\r\n                <div key={patient._id} className=\"patient-card\">\r\n                  <div className=\"patient-avatar\">\r\n                    <FiUser />\r\n                  </div>\r\n                  <div className=\"patient-info\">\r\n                    <h3>{patient.fullName}</h3>\r\n                    <p>ID: {patient.nationalID}</p>\r\n                    <p>Room: {patient.room || 'N/A'}</p>\r\n                  </div>\r\n                  <div className=\"patient-status\">\r\n                    {patient.hasCriticalVitals ? (\r\n                      <span className=\"status-badge critical\">\r\n                        <FiAlertCircle /> Critical\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"status-badge stable\">\r\n                        <FiActivity /> Stable\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <button className=\"view-btn\">View Details</button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .patient-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 1rem;\r\n        }\r\n        .patient-card {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 1rem;\r\n          padding: 1rem;\r\n          border: 1px solid var(--border-color);\r\n          border-radius: var(--radius-md);\r\n          transition: all 0.2s;\r\n        }\r\n        .patient-card:hover {\r\n          border-color: var(--accent-blue);\r\n          box-shadow: var(--shadow-sm);\r\n        }\r\n        .patient-avatar {\r\n          width: 48px;\r\n          height: 48px;\r\n          background: var(--bg-light);\r\n          border-radius: var(--radius-full);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 1.25rem;\r\n          color: var(--text-secondary);\r\n        }\r\n        .patient-info {\r\n          flex: 1;\r\n        }\r\n        .patient-info h3 {\r\n          font-size: 1rem;\r\n          font-weight: 500;\r\n          margin-bottom: 0.25rem;\r\n        }\r\n        .patient-info p {\r\n          font-size: 0.8rem;\r\n          color: var(--text-secondary);\r\n        }\r\n        .status-badge {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.25rem;\r\n          padding: 0.375rem 0.75rem;\r\n          border-radius: var(--radius-full);\r\n          font-size: 0.8rem;\r\n          font-weight: 500;\r\n        }\r\n        .status-badge.critical {\r\n          background: rgba(239, 68, 68, 0.1);\r\n          color: var(--accent-red);\r\n        }\r\n        .status-badge.stable {\r\n          background: rgba(34, 197, 94, 0.1);\r\n          color: var(--accent-green);\r\n        }\r\n        .view-btn {\r\n          background: var(--accent-blue);\r\n          color: white;\r\n          border: none;\r\n          padding: 0.5rem 1rem;\r\n          border-radius: var(--radius-md);\r\n          font-size: 0.8rem;\r\n          cursor: pointer;\r\n          transition: background 0.2s;\r\n        }\r\n        .view-btn:hover {\r\n          background: var(--primary-blue);\r\n        }\r\n      `}</style>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NursePatients;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}