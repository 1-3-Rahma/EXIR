{"ast":null,"code":"import React,{useState,useEffect}from'react';import Layout from'../../components/common/Layout';import{doctorAPI}from'../../services/api';import{FiAlertTriangle,FiClock,FiUser,FiArrowRight}from'react-icons/fi';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DoctorPriorityCases=()=>{const[cases,setCases]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchCriticalCases();},[]);const fetchCriticalCases=async()=>{try{const response=await doctorAPI.getCriticalCases();setCases(response.data);}catch(error){console.error('Failed to fetch critical cases:',error);}finally{setLoading(false);}};const formatTime=date=>{const now=new Date();const diff=now-new Date(date);const minutes=Math.floor(diff/60000);if(minutes<60)return\"\".concat(minutes,\" min ago\");const hours=Math.floor(diff/3600000);return\"\".concat(hours,\" hours ago\");};return/*#__PURE__*/_jsxs(Layout,{appName:\"Doctor's Hospital\",role:\"doctor\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Priority Cases\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Patients requiring urgent attention\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading priority cases...\"}):cases.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(FiAlertTriangle,{className:\"empty-icon success\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No Priority Cases\"}),/*#__PURE__*/_jsx(\"p\",{children:\"All patients are currently stable\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"priority-list\",children:cases.map((caseItem,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"priority-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"priority-indicator\"}),/*#__PURE__*/_jsx(\"div\",{className:\"priority-avatar\",children:/*#__PURE__*/_jsx(FiUser,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"priority-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:caseItem.patientName}),/*#__PURE__*/_jsx(\"p\",{className:\"priority-reason\",children:caseItem.reason}),/*#__PURE__*/_jsxs(\"div\",{className:\"priority-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FiClock,{}),\" \",formatTime(caseItem.createdAt)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"room\",children:[\"Room \",caseItem.room||'N/A']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"priority-actions\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"severity-badge\",children:caseItem.severity||'High'}),/*#__PURE__*/_jsxs(Link,{to:\"/doctor/patients\",className:\"view-link\",children:[\"View Patient \",/*#__PURE__*/_jsx(FiArrowRight,{})]})]})]},caseItem._id||index))})})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        .priority-list {\\n          display: flex;\\n          flex-direction: column;\\n          gap: 1rem;\\n        }\\n        .priority-card {\\n          display: flex;\\n          align-items: center;\\n          gap: 1rem;\\n          padding: 1.25rem;\\n          border: 1px solid var(--border-color);\\n          border-radius: var(--radius-lg);\\n          position: relative;\\n          transition: all 0.2s;\\n        }\\n        .priority-card:hover {\\n          box-shadow: var(--shadow-md);\\n        }\\n        .priority-indicator {\\n          position: absolute;\\n          left: 0;\\n          top: 0;\\n          bottom: 0;\\n          width: 4px;\\n          background: var(--accent-red);\\n          border-radius: var(--radius-lg) 0 0 var(--radius-lg);\\n        }\\n        .priority-avatar {\\n          width: 48px;\\n          height: 48px;\\n          background: rgba(239, 68, 68, 0.1);\\n          border-radius: var(--radius-full);\\n          display: flex;\\n          align-items: center;\\n          justify-content: center;\\n          color: var(--accent-red);\\n          font-size: 1.25rem;\\n        }\\n        .priority-info {\\n          flex: 1;\\n        }\\n        .priority-info h3 {\\n          font-size: 1rem;\\n          font-weight: 600;\\n          margin-bottom: 0.25rem;\\n        }\\n        .priority-reason {\\n          color: var(--text-secondary);\\n          font-size: 0.9rem;\\n          margin-bottom: 0.5rem;\\n        }\\n        .priority-meta {\\n          display: flex;\\n          gap: 1rem;\\n          font-size: 0.8rem;\\n          color: var(--text-muted);\\n        }\\n        .priority-meta span {\\n          display: flex;\\n          align-items: center;\\n          gap: 0.25rem;\\n        }\\n        .room {\\n          color: var(--accent-blue);\\n        }\\n        .priority-actions {\\n          display: flex;\\n          flex-direction: column;\\n          align-items: flex-end;\\n          gap: 0.75rem;\\n        }\\n        .severity-badge {\\n          padding: 0.375rem 0.75rem;\\n          background: var(--accent-red);\\n          color: white;\\n          border-radius: var(--radius-full);\\n          font-size: 0.75rem;\\n          font-weight: 600;\\n        }\\n        .view-link {\\n          display: flex;\\n          align-items: center;\\n          gap: 0.375rem;\\n          color: var(--accent-blue);\\n          text-decoration: none;\\n          font-size: 0.85rem;\\n          font-weight: 500;\\n        }\\n        .view-link:hover {\\n          text-decoration: underline;\\n        }\\n        .empty-state {\\n          text-align: center;\\n          padding: 3rem;\\n        }\\n        .empty-icon {\\n          font-size: 3rem;\\n          color: var(--accent-red);\\n          margin-bottom: 1rem;\\n        }\\n        .empty-icon.success {\\n          color: var(--accent-green);\\n        }\\n        .empty-state h3 {\\n          font-size: 1.25rem;\\n          margin-bottom: 0.5rem;\\n        }\\n        .empty-state p {\\n          color: var(--text-secondary);\\n        }\\n      \"})]});};export default DoctorPriorityCases;","map":{"version":3,"names":["React","useState","useEffect","Layout","doctorAPI","FiAlertTriangle","FiClock","FiUser","FiArrowRight","Link","jsx","_jsx","jsxs","_jsxs","DoctorPriorityCases","cases","setCases","loading","setLoading","fetchCriticalCases","response","getCriticalCases","data","error","console","formatTime","date","now","Date","diff","minutes","Math","floor","concat","hours","appName","role","children","className","length","map","caseItem","index","patientName","reason","createdAt","room","severity","to","_id"],"sources":["E:/ECU-Materials/Senior - 2/Graduation Project/semester 2 isa/software reham- rahma/v1 soft app/EXIR/frontend/src/pages/doctor/DoctorPriorityCases.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Layout from '../../components/common/Layout';\r\nimport { doctorAPI } from '../../services/api';\r\nimport { FiAlertTriangle, FiClock, FiUser, FiArrowRight } from 'react-icons/fi';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst DoctorPriorityCases = () => {\r\n  const [cases, setCases] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchCriticalCases();\r\n  }, []);\r\n\r\n  const fetchCriticalCases = async () => {\r\n    try {\r\n      const response = await doctorAPI.getCriticalCases();\r\n      setCases(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch critical cases:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTime = (date) => {\r\n    const now = new Date();\r\n    const diff = now - new Date(date);\r\n    const minutes = Math.floor(diff / 60000);\r\n    if (minutes < 60) return `${minutes} min ago`;\r\n    const hours = Math.floor(diff / 3600000);\r\n    return `${hours} hours ago`;\r\n  };\r\n\r\n  return (\r\n    <Layout appName=\"Doctor's Hospital\" role=\"doctor\">\r\n      <div className=\"page-header\">\r\n        <h1>Priority Cases</h1>\r\n        <p>Patients requiring urgent attention</p>\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          {loading ? (\r\n            <p>Loading priority cases...</p>\r\n          ) : cases.length === 0 ? (\r\n            <div className=\"empty-state\">\r\n              <FiAlertTriangle className=\"empty-icon success\" />\r\n              <h3>No Priority Cases</h3>\r\n              <p>All patients are currently stable</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"priority-list\">\r\n              {cases.map((caseItem, index) => (\r\n                <div key={caseItem._id || index} className=\"priority-card\">\r\n                  <div className=\"priority-indicator\" />\r\n                  <div className=\"priority-avatar\">\r\n                    <FiUser />\r\n                  </div>\r\n                  <div className=\"priority-info\">\r\n                    <h3>{caseItem.patientName}</h3>\r\n                    <p className=\"priority-reason\">{caseItem.reason}</p>\r\n                    <div className=\"priority-meta\">\r\n                      <span><FiClock /> {formatTime(caseItem.createdAt)}</span>\r\n                      <span className=\"room\">Room {caseItem.room || 'N/A'}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"priority-actions\">\r\n                    <span className=\"severity-badge\">\r\n                      {caseItem.severity || 'High'}\r\n                    </span>\r\n                    <Link to={`/doctor/patients`} className=\"view-link\">\r\n                      View Patient <FiArrowRight />\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .priority-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 1rem;\r\n        }\r\n        .priority-card {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 1rem;\r\n          padding: 1.25rem;\r\n          border: 1px solid var(--border-color);\r\n          border-radius: var(--radius-lg);\r\n          position: relative;\r\n          transition: all 0.2s;\r\n        }\r\n        .priority-card:hover {\r\n          box-shadow: var(--shadow-md);\r\n        }\r\n        .priority-indicator {\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          bottom: 0;\r\n          width: 4px;\r\n          background: var(--accent-red);\r\n          border-radius: var(--radius-lg) 0 0 var(--radius-lg);\r\n        }\r\n        .priority-avatar {\r\n          width: 48px;\r\n          height: 48px;\r\n          background: rgba(239, 68, 68, 0.1);\r\n          border-radius: var(--radius-full);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: var(--accent-red);\r\n          font-size: 1.25rem;\r\n        }\r\n        .priority-info {\r\n          flex: 1;\r\n        }\r\n        .priority-info h3 {\r\n          font-size: 1rem;\r\n          font-weight: 600;\r\n          margin-bottom: 0.25rem;\r\n        }\r\n        .priority-reason {\r\n          color: var(--text-secondary);\r\n          font-size: 0.9rem;\r\n          margin-bottom: 0.5rem;\r\n        }\r\n        .priority-meta {\r\n          display: flex;\r\n          gap: 1rem;\r\n          font-size: 0.8rem;\r\n          color: var(--text-muted);\r\n        }\r\n        .priority-meta span {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.25rem;\r\n        }\r\n        .room {\r\n          color: var(--accent-blue);\r\n        }\r\n        .priority-actions {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: flex-end;\r\n          gap: 0.75rem;\r\n        }\r\n        .severity-badge {\r\n          padding: 0.375rem 0.75rem;\r\n          background: var(--accent-red);\r\n          color: white;\r\n          border-radius: var(--radius-full);\r\n          font-size: 0.75rem;\r\n          font-weight: 600;\r\n        }\r\n        .view-link {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.375rem;\r\n          color: var(--accent-blue);\r\n          text-decoration: none;\r\n          font-size: 0.85rem;\r\n          font-weight: 500;\r\n        }\r\n        .view-link:hover {\r\n          text-decoration: underline;\r\n        }\r\n        .empty-state {\r\n          text-align: center;\r\n          padding: 3rem;\r\n        }\r\n        .empty-icon {\r\n          font-size: 3rem;\r\n          color: var(--accent-red);\r\n          margin-bottom: 1rem;\r\n        }\r\n        .empty-icon.success {\r\n          color: var(--accent-green);\r\n        }\r\n        .empty-state h3 {\r\n          font-size: 1.25rem;\r\n          margin-bottom: 0.5rem;\r\n        }\r\n        .empty-state p {\r\n          color: var(--text-secondary);\r\n        }\r\n      `}</style>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DoctorPriorityCases;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}