{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api/v1',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport const nurseAPI = {\n  getAssignedPatients: () => api.get('/nurse/assigned-patients'),\n  getCriticalEvents: () => api.get('/nurse/critical-events'),\n  getPatientVitals: patientId => api.get(`/nurse/patient/${patientId}/vitals`),\n  getVitalsOverview: () => api.get('/nurse/vitals-overview'),\n  updateVitals: (patientId, data) => api.put(`/nurse/patient/${patientId}/vitals`, data)\n};\nexport const doctorAPI = {\n  getNursingStaff: () => api.get('/doctor/nursing-staff'),\n  getNursesOnShift: () => api.get('/doctor/nurses-on-shift'),\n  assignPatient: data => api.post('/doctor/assign-patient', data),\n  updateTreatment: data => api.put('/doctor/update-treatment', data),\n  closeCase: data => api.post('/doctor/close-case', data),\n  getPatients: () => api.get('/doctor/patients'),\n  getCriticalCases: () => api.get('/doctor/critical-cases')\n};\nexport const tasksAPI = {\n  getTasks: () => api.get('/tasks'),\n  getTodayTasks: () => api.get('/tasks/today'),\n  createTask: data => api.post('/tasks', data),\n  updateTask: (taskId, data) => api.put(`/tasks/${taskId}`, data),\n  completeTask: taskId => api.patch(`/tasks/${taskId}/complete`),\n  deleteTask: taskId => api.delete(`/tasks/${taskId}`)\n};\nexport const patientAPI = {\n  getVitals: () => api.get('/patient/vitals'),\n  getMedicalHistory: () => api.get('/patient/medical-history'),\n  getBilling: () => api.get('/patient/billing'),\n  downloadRecords: () => api.get('/patient/download-records')\n};\nexport const receptionistAPI = {\n  registerPatient: data => api.post('/receptionist/register-patient', data),\n  getPatient: patientId => api.get(`/receptionist/patient/${patientId}`),\n  searchPatient: nationalID => api.get(`/receptionist/patient/search/${nationalID}`),\n  getPatientVisits: patientId => api.get(`/receptionist/patient/${patientId}/visits`),\n  getPatientBilling: patientId => api.get(`/receptionist/patient/${patientId}/billing`),\n  getDischargeStatus: patientId => api.get(`/receptionist/patient/${patientId}/discharge-status`),\n  updatePatient: (patientId, data) => api.put(`/receptionist/patient/${patientId}`, data)\n};\nexport const vitalsAPI = {\n  receiveVitals: data => api.post('/vitals/receive', data),\n  getPatientVitals: patientId => api.get(`/vitals/patient/${patientId}`)\n};\nexport const notificationAPI = {\n  getNotifications: () => api.get('/notifications'),\n  markAsRead: notificationId => api.put('/notifications/read', {\n    notificationId\n  }),\n  markAllAsRead: () => api.put('/notifications/read-all')\n};\nexport const visitAPI = {\n  startVisit: data => api.post('/visits/start', data),\n  endVisit: visitId => api.put(`/visits/${visitId}/end`)\n};\nexport const medicalRecordAPI = {\n  uploadRecord: formData => api.post('/medical-records/upload', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  getPatientRecords: patientId => api.get(`/medical-records/patient/${patientId}`),\n  downloadFile: recordId => api.get(`/files/${recordId}`, {\n    responseType: 'blob'\n  })\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","nurseAPI","getAssignedPatients","get","getCriticalEvents","getPatientVitals","patientId","getVitalsOverview","updateVitals","data","put","doctorAPI","getNursingStaff","getNursesOnShift","assignPatient","post","updateTreatment","closeCase","getPatients","getCriticalCases","tasksAPI","getTasks","getTodayTasks","createTask","updateTask","taskId","completeTask","patch","deleteTask","delete","patientAPI","getVitals","getMedicalHistory","getBilling","downloadRecords","receptionistAPI","registerPatient","getPatient","searchPatient","nationalID","getPatientVisits","getPatientBilling","getDischargeStatus","updatePatient","vitalsAPI","receiveVitals","notificationAPI","getNotifications","markAsRead","notificationId","markAllAsRead","visitAPI","startVisit","endVisit","visitId","medicalRecordAPI","uploadRecord","formData","getPatientRecords","downloadFile","recordId","responseType"],"sources":["E:/ECU-Materials/Senior - 2/Graduation Project/semester 2 isa/software reham- rahma/v1 soft app/EXIR/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api/v1',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const nurseAPI = {\r\n  getAssignedPatients: () => api.get('/nurse/assigned-patients'),\r\n  getCriticalEvents: () => api.get('/nurse/critical-events'),\r\n  getPatientVitals: (patientId) => api.get(`/nurse/patient/${patientId}/vitals`),\r\n  getVitalsOverview: () => api.get('/nurse/vitals-overview'),\r\n  updateVitals: (patientId, data) => api.put(`/nurse/patient/${patientId}/vitals`, data)\r\n};\r\n\r\nexport const doctorAPI = {\r\n  getNursingStaff: () => api.get('/doctor/nursing-staff'),\r\n  getNursesOnShift: () => api.get('/doctor/nurses-on-shift'),\r\n  assignPatient: (data) => api.post('/doctor/assign-patient', data),\r\n  updateTreatment: (data) => api.put('/doctor/update-treatment', data),\r\n  closeCase: (data) => api.post('/doctor/close-case', data),\r\n  getPatients: () => api.get('/doctor/patients'),\r\n  getCriticalCases: () => api.get('/doctor/critical-cases')\r\n};\r\n\r\nexport const tasksAPI = {\r\n  getTasks: () => api.get('/tasks'),\r\n  getTodayTasks: () => api.get('/tasks/today'),\r\n  createTask: (data) => api.post('/tasks', data),\r\n  updateTask: (taskId, data) => api.put(`/tasks/${taskId}`, data),\r\n  completeTask: (taskId) => api.patch(`/tasks/${taskId}/complete`),\r\n  deleteTask: (taskId) => api.delete(`/tasks/${taskId}`)\r\n};\r\n\r\nexport const patientAPI = {\r\n  getVitals: () => api.get('/patient/vitals'),\r\n  getMedicalHistory: () => api.get('/patient/medical-history'),\r\n  getBilling: () => api.get('/patient/billing'),\r\n  downloadRecords: () => api.get('/patient/download-records')\r\n};\r\n\r\nexport const receptionistAPI = {\r\n  registerPatient: (data) => api.post('/receptionist/register-patient', data),\r\n  getPatient: (patientId) => api.get(`/receptionist/patient/${patientId}`),\r\n  searchPatient: (nationalID) => api.get(`/receptionist/patient/search/${nationalID}`),\r\n  getPatientVisits: (patientId) => api.get(`/receptionist/patient/${patientId}/visits`),\r\n  getPatientBilling: (patientId) => api.get(`/receptionist/patient/${patientId}/billing`),\r\n  getDischargeStatus: (patientId) => api.get(`/receptionist/patient/${patientId}/discharge-status`),\r\n  updatePatient: (patientId, data) => api.put(`/receptionist/patient/${patientId}`, data)\r\n};\r\n\r\nexport const vitalsAPI = {\r\n  receiveVitals: (data) => api.post('/vitals/receive', data),\r\n  getPatientVitals: (patientId) => api.get(`/vitals/patient/${patientId}`)\r\n};\r\n\r\nexport const notificationAPI = {\r\n  getNotifications: () => api.get('/notifications'),\r\n  markAsRead: (notificationId) => api.put('/notifications/read', { notificationId }),\r\n  markAllAsRead: () => api.put('/notifications/read-all')\r\n};\r\n\r\nexport const visitAPI = {\r\n  startVisit: (data) => api.post('/visits/start', data),\r\n  endVisit: (visitId) => api.put(`/visits/${visitId}/end`)\r\n};\r\n\r\nexport const medicalRecordAPI = {\r\n  uploadRecord: (formData) => api.post('/medical-records/upload', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  getPatientRecords: (patientId) => api.get(`/medical-records/patient/${patientId}`),\r\n  downloadFile: (recordId) => api.get(`/files/${recordId}`, { responseType: 'blob' })\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}