{"ast":null,"code":"var _jsxFileName = \"E:\\\\ECU-Materials\\\\Senior - 2\\\\Graduation Project\\\\semester 2 isa\\\\software reham- rahma\\\\v1 soft app\\\\EXIR\\\\frontend\\\\src\\\\pages\\\\nurse\\\\NurseMessages.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport Layout from '../../components/common/Layout';\nimport { useAuth } from '../../context/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api/v1';\nconst NurseMessages = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [contacts, setContacts] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [alerts, setAlerts] = useState([]);\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [emergencyType, setEmergencyType] = useState('');\n  const [emergencyLocation, setEmergencyLocation] = useState('');\n  const [emergencyDetails, setEmergencyDetails] = useState('');\n  const [loadingContacts, setLoadingContacts] = useState(true);\n  const [loadingMessages, setLoadingMessages] = useState(false);\n  const [sendingMessage, setSendingMessage] = useState(false);\n  const messagesEndRef = useRef(null);\n  const pollIntervalRef = useRef(null);\n  useEffect(() => {\n    fetchContacts();\n    fetchAlerts();\n\n    // Cleanup polling on unmount\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, []);\n  useEffect(() => {\n    if (selectedContact) {\n      fetchChatWithUser(selectedContact._id);\n\n      // Poll for new messages every 5 seconds\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n      pollIntervalRef.current = setInterval(() => {\n        if (currentChatId) {\n          fetchMessagesForChat(currentChatId, false);\n        }\n      }, 5000);\n    }\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, [selectedContact]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const getAuthHeaders = () => {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n  };\n  const fetchContacts = async () => {\n    try {\n      setLoadingContacts(true);\n      const response = await fetch(`${API_URL}/chat/contacts`, {\n        headers: getAuthHeaders()\n      });\n      if (!response.ok) throw new Error('Failed to fetch contacts');\n      const data = await response.json();\n      // Transform contacts data\n      const transformedContacts = (data.data || []).map(contact => {\n        var _contact$fullName, _contact$role, _contact$role2;\n        return {\n          ...contact,\n          id: contact._id,\n          name: contact.fullName,\n          avatar: ((_contact$fullName = contact.fullName) === null || _contact$fullName === void 0 ? void 0 : _contact$fullName.charAt(0)) || '?',\n          role: ((_contact$role = contact.role) === null || _contact$role === void 0 ? void 0 : _contact$role.charAt(0).toUpperCase()) + ((_contact$role2 = contact.role) === null || _contact$role2 === void 0 ? void 0 : _contact$role2.slice(1)) || 'Staff',\n          status: contact.isLoggedIn ? 'online' : 'offline',\n          category: contact.role === 'doctor' ? 'doctors' : contact.role === 'nurse' ? 'nurses' : 'departments',\n          unread: 0\n        };\n      });\n      setContacts(transformedContacts);\n    } catch (error) {\n      console.error('Failed to fetch contacts:', error);\n      setContacts([]);\n    } finally {\n      setLoadingContacts(false);\n    }\n  };\n  const fetchChatWithUser = async userId => {\n    try {\n      setLoadingMessages(true);\n      const response = await fetch(`${API_URL}/chat/with/${userId}`, {\n        headers: getAuthHeaders()\n      });\n      if (!response.ok) throw new Error('Failed to fetch chat');\n      const data = await response.json();\n      const chat = data.data;\n      setCurrentChatId(chat._id);\n\n      // Transform messages\n      const transformedMessages = (chat.messages || []).map(msg => {\n        var _msg$senderId;\n        return {\n          id: msg._id,\n          senderId: msg.senderId,\n          text: msg.content,\n          time: new Date(msg.timestamp).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n          }),\n          isOwn: msg.senderId === (user === null || user === void 0 ? void 0 : user._id) || ((_msg$senderId = msg.senderId) === null || _msg$senderId === void 0 ? void 0 : _msg$senderId._id) === (user === null || user === void 0 ? void 0 : user._id),\n          read: msg.read\n        };\n      });\n      setMessages(transformedMessages);\n\n      // Mark messages as read\n      if (chat._id) {\n        fetch(`${API_URL}/chat/${chat._id}/read`, {\n          method: 'PATCH',\n          headers: getAuthHeaders()\n        }).catch(err => console.error('Failed to mark as read:', err));\n      }\n    } catch (error) {\n      console.error('Failed to fetch chat:', error);\n      setMessages([]);\n    } finally {\n      setLoadingMessages(false);\n    }\n  };\n  const fetchMessagesForChat = async (chatId, showLoading = true) => {\n    try {\n      if (showLoading) setLoadingMessages(true);\n      const response = await fetch(`${API_URL}/chat/${chatId}/messages`, {\n        headers: getAuthHeaders()\n      });\n      if (!response.ok) throw new Error('Failed to fetch messages');\n      const data = await response.json();\n      const transformedMessages = (data.data || []).map(msg => {\n        var _msg$senderId2;\n        return {\n          id: msg._id,\n          senderId: msg.senderId,\n          text: msg.content,\n          time: new Date(msg.timestamp).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n          }),\n          isOwn: msg.senderId === (user === null || user === void 0 ? void 0 : user._id) || ((_msg$senderId2 = msg.senderId) === null || _msg$senderId2 === void 0 ? void 0 : _msg$senderId2._id) === (user === null || user === void 0 ? void 0 : user._id),\n          read: msg.read\n        };\n      });\n      setMessages(transformedMessages);\n    } catch (error) {\n      console.error('Failed to fetch messages:', error);\n    } finally {\n      if (showLoading) setLoadingMessages(false);\n    }\n  };\n  const fetchAlerts = async () => {\n    // Alerts are not persisted in our current implementation\n    setAlerts([]);\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedContact || sendingMessage) return;\n    const messageText = newMessage;\n    setNewMessage('');\n\n    // Optimistic update\n    const optimisticMessage = {\n      id: Date.now(),\n      senderId: user === null || user === void 0 ? void 0 : user._id,\n      text: messageText,\n      time: new Date().toLocaleTimeString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      isOwn: true\n    };\n    setMessages(prev => [...prev, optimisticMessage]);\n    try {\n      var _data$data, _data$data2;\n      setSendingMessage(true);\n      const response = await fetch(`${API_URL}/chat/send/${selectedContact._id}`, {\n        method: 'POST',\n        headers: getAuthHeaders(),\n        body: JSON.stringify({\n          content: messageText\n        })\n      });\n      if (!response.ok) throw new Error('Failed to send message');\n      const data = await response.json();\n\n      // Update chat ID if we didn't have one\n      if (!currentChatId && (_data$data = data.data) !== null && _data$data !== void 0 && _data$data.chatId) {\n        setCurrentChatId(data.data.chatId);\n      }\n\n      // Refresh messages to get server-confirmed message\n      if (currentChatId || (_data$data2 = data.data) !== null && _data$data2 !== void 0 && _data$data2.chatId) {\n        await fetchMessagesForChat(currentChatId || data.data.chatId, false);\n      }\n    } catch (error) {\n      console.error('Failed to send message:', error);\n      // Remove optimistic message on failure\n      setMessages(prev => prev.filter(msg => msg.id !== optimisticMessage.id));\n      setNewMessage(messageText); // Restore the message\n      alert('Failed to send message. Please try again.');\n    } finally {\n      setSendingMessage(false);\n    }\n  };\n  const handleEmergencyRequest = async e => {\n    e.preventDefault();\n    try {\n      await api.post('/nurse/emergency', {\n        type: emergencyType,\n        location: emergencyLocation,\n        details: emergencyDetails\n      });\n      alert('Emergency request sent successfully!');\n    } catch (error) {\n      alert('Emergency request sent (mock mode)');\n    }\n    setShowEmergencyModal(false);\n    setEmergencyType('');\n    setEmergencyLocation('');\n    setEmergencyDetails('');\n  };\n  const filteredContacts = contacts.filter(contact => {\n    const matchesSearch = contact.name.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = filterCategory === 'all' || contact.category === filterCategory;\n    return matchesSearch && matchesCategory;\n  });\n  const getStatusColor = status => {\n    switch (status) {\n      case 'online':\n        return '#22c55e';\n      case 'busy':\n        return '#f59e0b';\n      case 'offline':\n        return '#9ca3af';\n      default:\n        return '#9ca3af';\n    }\n  };\n  const getAlertIcon = type => {\n    switch (type) {\n      case 'urgent':\n        return 'ðŸš¨';\n      case 'warning':\n        return 'âš ï¸';\n      case 'info':\n        return 'â„¹ï¸';\n      default:\n        return 'ðŸ“¢';\n    }\n  };\n  const getAlertColor = type => {\n    switch (type) {\n      case 'urgent':\n        return '#fee2e2';\n      case 'warning':\n        return '#fef3c7';\n      case 'info':\n        return '#e0f2fe';\n      default:\n        return '#f3f4f6';\n    }\n  };\n  const styles = {\n    container: {\n      padding: '24px',\n      backgroundColor: '#f8fafc',\n      minHeight: 'calc(100vh - 64px)'\n    },\n    header: {\n      marginBottom: '24px'\n    },\n    title: {\n      fontSize: '28px',\n      fontWeight: '700',\n      color: '#1e293b',\n      margin: 0\n    },\n    subtitle: {\n      color: '#64748b',\n      margin: '4px 0 0 0'\n    },\n    mainGrid: {\n      display: 'grid',\n      gridTemplateColumns: '320px 1fr 300px',\n      gap: '24px',\n      height: 'calc(100vh - 180px)'\n    },\n    // Contacts Panel\n    contactsPanel: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    },\n    contactsHeader: {\n      padding: '20px',\n      borderBottom: '1px solid #e2e8f0'\n    },\n    searchInput: {\n      width: '100%',\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '12px',\n      fontSize: '14px',\n      marginBottom: '12px',\n      outline: 'none'\n    },\n    filterTabs: {\n      display: 'flex',\n      gap: '8px'\n    },\n    filterTab: {\n      padding: '8px 12px',\n      border: 'none',\n      borderRadius: '20px',\n      fontSize: '12px',\n      fontWeight: '500',\n      cursor: 'pointer',\n      transition: 'all 0.2s'\n    },\n    contactsList: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '12px'\n    },\n    contactItem: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: '12px',\n      borderRadius: '12px',\n      cursor: 'pointer',\n      marginBottom: '4px',\n      transition: 'all 0.2s'\n    },\n    contactAvatar: {\n      width: '48px',\n      height: '48px',\n      borderRadius: '50%',\n      backgroundColor: '#3b82f6',\n      color: 'white',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontWeight: '600',\n      fontSize: '14px',\n      marginRight: '12px',\n      position: 'relative'\n    },\n    statusDot: {\n      position: 'absolute',\n      bottom: '2px',\n      right: '2px',\n      width: '12px',\n      height: '12px',\n      borderRadius: '50%',\n      border: '2px solid white'\n    },\n    contactInfo: {\n      flex: 1\n    },\n    contactName: {\n      fontWeight: '600',\n      color: '#1e293b',\n      fontSize: '14px',\n      marginBottom: '2px'\n    },\n    contactRole: {\n      color: '#64748b',\n      fontSize: '12px'\n    },\n    unreadBadge: {\n      backgroundColor: '#ef4444',\n      color: 'white',\n      borderRadius: '50%',\n      width: '20px',\n      height: '20px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: '11px',\n      fontWeight: '600'\n    },\n    // Chat Panel\n    chatPanel: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    },\n    chatHeader: {\n      padding: '16px 20px',\n      borderBottom: '1px solid #e2e8f0',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between'\n    },\n    chatHeaderInfo: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '12px'\n    },\n    chatActions: {\n      display: 'flex',\n      gap: '8px'\n    },\n    actionBtn: {\n      padding: '8px 12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      backgroundColor: 'white',\n      cursor: 'pointer',\n      fontSize: '14px',\n      transition: 'all 0.2s'\n    },\n    chatMessages: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '20px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '12px'\n    },\n    emptyChat: {\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: '#94a3b8'\n    },\n    messageRow: {\n      display: 'flex',\n      justifyContent: 'flex-start'\n    },\n    messageRowOwn: {\n      display: 'flex',\n      justifyContent: 'flex-end'\n    },\n    messageBubble: {\n      maxWidth: '70%',\n      padding: '12px 16px',\n      borderRadius: '16px',\n      fontSize: '14px',\n      lineHeight: '1.5'\n    },\n    messageTime: {\n      fontSize: '11px',\n      marginTop: '4px'\n    },\n    chatInputArea: {\n      padding: '16px 20px',\n      borderTop: '1px solid #e2e8f0'\n    },\n    chatForm: {\n      display: 'flex',\n      gap: '12px'\n    },\n    messageInput: {\n      flex: 1,\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '24px',\n      fontSize: '14px',\n      outline: 'none'\n    },\n    sendBtn: {\n      padding: '12px 24px',\n      backgroundColor: '#3b82f6',\n      color: 'white',\n      border: 'none',\n      borderRadius: '24px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      transition: 'all 0.2s'\n    },\n    // Right Panel\n    rightPanel: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '16px'\n    },\n    quickActions: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      padding: '20px'\n    },\n    sectionTitle: {\n      fontSize: '16px',\n      fontWeight: '600',\n      color: '#1e293b',\n      marginBottom: '16px'\n    },\n    quickActionBtns: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '8px'\n    },\n    quickActionBtn: {\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '12px',\n      backgroundColor: 'white',\n      cursor: 'pointer',\n      fontSize: '14px',\n      fontWeight: '500',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '10px',\n      transition: 'all 0.2s'\n    },\n    emergencyBtn: {\n      padding: '14px 16px',\n      backgroundColor: '#ef4444',\n      color: 'white',\n      border: 'none',\n      borderRadius: '12px',\n      cursor: 'pointer',\n      fontSize: '14px',\n      fontWeight: '600',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '8px',\n      marginTop: '8px',\n      transition: 'all 0.2s'\n    },\n    alertsSection: {\n      flex: 1,\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      padding: '20px',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    alertsList: {\n      flex: 1,\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '8px'\n    },\n    alertItem: {\n      padding: '12px',\n      borderRadius: '10px',\n      display: 'flex',\n      gap: '10px'\n    },\n    alertContent: {\n      flex: 1\n    },\n    alertTitle: {\n      fontSize: '13px',\n      fontWeight: '500',\n      color: '#1e293b',\n      marginBottom: '2px'\n    },\n    alertTime: {\n      fontSize: '11px',\n      color: '#64748b'\n    },\n    // Modal\n    modalOverlay: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    modal: {\n      backgroundColor: 'white',\n      borderRadius: '20px',\n      padding: '24px',\n      width: '90%',\n      maxWidth: '450px',\n      boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\n    },\n    modalHeader: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '20px'\n    },\n    modalTitle: {\n      fontSize: '20px',\n      fontWeight: '700',\n      color: '#ef4444',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px'\n    },\n    closeBtn: {\n      background: 'none',\n      border: 'none',\n      fontSize: '24px',\n      cursor: 'pointer',\n      color: '#64748b'\n    },\n    formGroup: {\n      marginBottom: '16px'\n    },\n    label: {\n      display: 'block',\n      marginBottom: '6px',\n      fontWeight: '500',\n      color: '#374151',\n      fontSize: '14px'\n    },\n    select: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none'\n    },\n    input: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none',\n      boxSizing: 'border-box'\n    },\n    textarea: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none',\n      resize: 'vertical',\n      minHeight: '100px',\n      boxSizing: 'border-box'\n    },\n    submitEmergencyBtn: {\n      width: '100%',\n      padding: '14px',\n      backgroundColor: '#ef4444',\n      color: 'white',\n      border: 'none',\n      borderRadius: '10px',\n      fontSize: '16px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      marginTop: '8px'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    appName: \"NurseHub\",\n    role: \"nurse\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.title,\n        children: \"Messages & Communication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.subtitle,\n        children: \"Stay connected with your team\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.mainGrid,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.contactsPanel,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.contactsHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search contacts...\",\n            style: styles.searchInput,\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.filterTabs,\n            children: [{\n              key: 'all',\n              label: 'All'\n            }, {\n              key: 'doctors',\n              label: 'Doctors'\n            }, {\n              key: 'nurses',\n              label: 'Nurses'\n            }, {\n              key: 'departments',\n              label: 'Depts'\n            }].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.filterTab,\n                backgroundColor: filterCategory === tab.key ? '#3b82f6' : '#f1f5f9',\n                color: filterCategory === tab.key ? 'white' : '#64748b'\n              },\n              onClick: () => setFilterCategory(tab.key),\n              children: tab.label\n            }, tab.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.contactsList,\n          children: filteredContacts.map(contact => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...styles.contactItem,\n              backgroundColor: (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id ? '#eff6ff' : 'transparent'\n            },\n            onClick: () => setSelectedContact(contact),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.contactAvatar,\n              children: [contact.avatar, /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...styles.statusDot,\n                  backgroundColor: getStatusColor(contact.status)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.contactInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.contactName,\n                children: contact.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.contactRole,\n                children: contact.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 17\n            }, this), contact.unread > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.unreadBadge,\n              children: contact.unread\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 19\n            }, this)]\n          }, contact.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatPanel,\n        children: selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chatHeader,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.chatHeaderInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...styles.contactAvatar,\n                  marginRight: 0\n                },\n                children: [selectedContact.avatar, /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    ...styles.statusDot,\n                    backgroundColor: getStatusColor(selectedContact.status)\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.contactName,\n                  children: selectedContact.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.contactRole,\n                  children: [selectedContact.role, \" - \", selectedContact.status]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 764,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.chatActions,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                style: styles.actionBtn,\n                children: \"\\uD83D\\uDCDE Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 768,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: styles.actionBtn,\n                children: \"\\uD83D\\uDCF9 Video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 767,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chatMessages,\n            children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: message.isOwn ? styles.messageRowOwn : styles.messageRow,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...styles.messageBubble,\n                  backgroundColor: message.isOwn ? '#3b82f6' : '#f1f5f9',\n                  color: message.isOwn ? 'white' : '#1e293b',\n                  borderBottomRightRadius: message.isOwn ? '4px' : '16px',\n                  borderBottomLeftRadius: message.isOwn ? '16px' : '4px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 787,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    ...styles.messageTime,\n                    color: message.isOwn ? 'rgba(255,255,255,0.7)' : '#94a3b8',\n                    textAlign: message.isOwn ? 'right' : 'left'\n                  },\n                  children: message.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 788,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 21\n              }, this)\n            }, message.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chatInputArea,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              style: styles.chatForm,\n              onSubmit: handleSendMessage,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Type a message...\",\n                style: styles.messageInput,\n                value: newMessage,\n                onChange: e => setNewMessage(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                style: styles.sendBtn,\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 803,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.emptyChat,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '64px',\n              marginBottom: '16px'\n            },\n            children: \"\\uD83D\\uDCAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '18px',\n              fontWeight: '500',\n              marginBottom: '8px'\n            },\n            children: \"Select a conversation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '14px'\n            },\n            children: \"Choose a contact to start messaging\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.rightPanel,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.quickActions,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Quick Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.quickActionBtns,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.quickActionBtn,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDC65\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 17\n              }, this), \" Group Chat\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 836,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.quickActionBtn,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCCB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 17\n              }, this), \" Call Directory\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 839,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.quickActionBtn,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCE2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 17\n              }, this), \" Broadcast Message\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.emergencyBtn,\n              onClick: () => setShowEmergencyModal(true),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDEA8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 17\n              }, this), \" Emergency Request\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.alertsSection,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Recent Updates & Alerts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 856,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.alertsList,\n            children: alerts.map(alert => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.alertItem,\n                backgroundColor: getAlertColor(alert.type),\n                opacity: alert.read ? 0.7 : 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '18px'\n                },\n                children: getAlertIcon(alert.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.alertContent,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.alertTitle,\n                  children: alert.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 869,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.alertTime,\n                  children: alert.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 870,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 19\n              }, this)]\n            }, alert.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 831,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 7\n    }, this), showEmergencyModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      onClick: () => setShowEmergencyModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modal,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: styles.modalTitle,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDEA8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 17\n            }, this), \" Emergency Request\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.closeBtn,\n            onClick: () => setShowEmergencyModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 883,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleEmergencyRequest,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Emergency Type *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              style: styles.select,\n              value: emergencyType,\n              onChange: e => setEmergencyType(e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_blue\",\n                children: \"Code Blue - Cardiac Arrest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 901,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_red\",\n                children: \"Code Red - Fire\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_pink\",\n                children: \"Code Pink - Infant Abduction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 903,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_orange\",\n                children: \"Code Orange - Hazmat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"rapid_response\",\n                children: \"Rapid Response Team\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 905,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"security\",\n                children: \"Security Assistance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 906,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"other\",\n                children: \"Other Emergency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 907,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Location *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              style: styles.input,\n              placeholder: \"e.g., Room 305, ICU Ward\",\n              value: emergencyLocation,\n              onChange: e => setEmergencyLocation(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              style: styles.textarea,\n              placeholder: \"Provide any additional details...\",\n              value: emergencyDetails,\n              onChange: e => setEmergencyDetails(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 923,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: styles.submitEmergencyBtn,\n            children: \"Send Emergency Alert\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 882,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 881,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 678,\n    columnNumber: 5\n  }, this);\n};\n_s(NurseMessages, \"a5DWGOdwD5UdeInfbhLbqvcHNyg=\", false, function () {\n  return [useAuth];\n});\n_c = NurseMessages;\nexport default NurseMessages;\nvar _c;\n$RefreshReg$(_c, \"NurseMessages\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Layout","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","import","meta","env","VITE_API_URL","NurseMessages","_s","user","contacts","setContacts","selectedContact","setSelectedContact","currentChatId","setCurrentChatId","messages","setMessages","newMessage","setNewMessage","searchTerm","setSearchTerm","filterCategory","setFilterCategory","alerts","setAlerts","showEmergencyModal","setShowEmergencyModal","emergencyType","setEmergencyType","emergencyLocation","setEmergencyLocation","emergencyDetails","setEmergencyDetails","loadingContacts","setLoadingContacts","loadingMessages","setLoadingMessages","sendingMessage","setSendingMessage","messagesEndRef","pollIntervalRef","fetchContacts","fetchAlerts","current","clearInterval","fetchChatWithUser","_id","setInterval","fetchMessagesForChat","scrollToBottom","_messagesEndRef$curre","scrollIntoView","behavior","getAuthHeaders","token","localStorage","getItem","response","fetch","headers","ok","Error","data","json","transformedContacts","map","contact","_contact$fullName","_contact$role","_contact$role2","id","name","fullName","avatar","charAt","role","toUpperCase","slice","status","isLoggedIn","category","unread","error","console","userId","chat","transformedMessages","msg","_msg$senderId","senderId","text","content","time","Date","timestamp","toLocaleTimeString","hour","minute","isOwn","read","method","catch","err","chatId","showLoading","_msg$senderId2","handleSendMessage","e","preventDefault","trim","messageText","optimisticMessage","now","prev","_data$data","_data$data2","body","JSON","stringify","filter","alert","handleEmergencyRequest","api","post","type","location","details","filteredContacts","matchesSearch","toLowerCase","includes","matchesCategory","getStatusColor","getAlertIcon","getAlertColor","styles","container","padding","backgroundColor","minHeight","header","marginBottom","title","fontSize","fontWeight","color","margin","subtitle","mainGrid","display","gridTemplateColumns","gap","height","contactsPanel","borderRadius","boxShadow","flexDirection","overflow","contactsHeader","borderBottom","searchInput","width","border","outline","filterTabs","filterTab","cursor","transition","contactsList","flex","overflowY","contactItem","alignItems","contactAvatar","justifyContent","marginRight","position","statusDot","bottom","right","contactInfo","contactName","contactRole","unreadBadge","chatPanel","chatHeader","chatHeaderInfo","chatActions","actionBtn","chatMessages","emptyChat","messageRow","messageRowOwn","messageBubble","maxWidth","lineHeight","messageTime","marginTop","chatInputArea","borderTop","chatForm","messageInput","sendBtn","rightPanel","quickActions","sectionTitle","quickActionBtns","quickActionBtn","emergencyBtn","alertsSection","alertsList","alertItem","alertContent","alertTitle","alertTime","modalOverlay","top","left","zIndex","modal","modalHeader","modalTitle","closeBtn","background","formGroup","label","select","input","boxSizing","textarea","resize","submitEmergencyBtn","appName","children","style","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","key","tab","onClick","message","borderBottomRightRadius","borderBottomLeftRadius","textAlign","ref","onSubmit","opacity","stopPropagation","required","_c","$RefreshReg$"],"sources":["E:/ECU-Materials/Senior - 2/Graduation Project/semester 2 isa/software reham- rahma/v1 soft app/EXIR/frontend/src/pages/nurse/NurseMessages.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Layout from '../../components/common/Layout';\nimport { useAuth } from '../../context/AuthContext';\n\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api/v1';\n\nconst NurseMessages = () => {\n  const { user } = useAuth();\n  const [contacts, setContacts] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [alerts, setAlerts] = useState([]);\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [emergencyType, setEmergencyType] = useState('');\n  const [emergencyLocation, setEmergencyLocation] = useState('');\n  const [emergencyDetails, setEmergencyDetails] = useState('');\n  const [loadingContacts, setLoadingContacts] = useState(true);\n  const [loadingMessages, setLoadingMessages] = useState(false);\n  const [sendingMessage, setSendingMessage] = useState(false);\n  const messagesEndRef = useRef(null);\n  const pollIntervalRef = useRef(null);\n\n\n  useEffect(() => {\n    fetchContacts();\n    fetchAlerts();\n\n    // Cleanup polling on unmount\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (selectedContact) {\n      fetchChatWithUser(selectedContact._id);\n\n      // Poll for new messages every 5 seconds\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n      pollIntervalRef.current = setInterval(() => {\n        if (currentChatId) {\n          fetchMessagesForChat(currentChatId, false);\n        }\n      }, 5000);\n    }\n\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, [selectedContact]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const getAuthHeaders = () => {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n  };\n\n  const fetchContacts = async () => {\n    try {\n      setLoadingContacts(true);\n      const response = await fetch(`${API_URL}/chat/contacts`, {\n        headers: getAuthHeaders()\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch contacts');\n\n      const data = await response.json();\n      // Transform contacts data\n      const transformedContacts = (data.data || []).map(contact => ({\n        ...contact,\n        id: contact._id,\n        name: contact.fullName,\n        avatar: contact.fullName?.charAt(0) || '?',\n        role: contact.role?.charAt(0).toUpperCase() + contact.role?.slice(1) || 'Staff',\n        status: contact.isLoggedIn ? 'online' : 'offline',\n        category: contact.role === 'doctor' ? 'doctors' : contact.role === 'nurse' ? 'nurses' : 'departments',\n        unread: 0\n      }));\n      setContacts(transformedContacts);\n    } catch (error) {\n      console.error('Failed to fetch contacts:', error);\n      setContacts([]);\n    } finally {\n      setLoadingContacts(false);\n    }\n  };\n\n  const fetchChatWithUser = async (userId) => {\n    try {\n      setLoadingMessages(true);\n      const response = await fetch(`${API_URL}/chat/with/${userId}`, {\n        headers: getAuthHeaders()\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch chat');\n\n      const data = await response.json();\n      const chat = data.data;\n      setCurrentChatId(chat._id);\n\n      // Transform messages\n      const transformedMessages = (chat.messages || []).map(msg => ({\n        id: msg._id,\n        senderId: msg.senderId,\n        text: msg.content,\n        time: new Date(msg.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\n        isOwn: msg.senderId === user?._id || msg.senderId?._id === user?._id,\n        read: msg.read\n      }));\n      setMessages(transformedMessages);\n\n      // Mark messages as read\n      if (chat._id) {\n        fetch(`${API_URL}/chat/${chat._id}/read`, {\n          method: 'PATCH',\n          headers: getAuthHeaders()\n        }).catch(err => console.error('Failed to mark as read:', err));\n      }\n    } catch (error) {\n      console.error('Failed to fetch chat:', error);\n      setMessages([]);\n    } finally {\n      setLoadingMessages(false);\n    }\n  };\n\n  const fetchMessagesForChat = async (chatId, showLoading = true) => {\n    try {\n      if (showLoading) setLoadingMessages(true);\n      const response = await fetch(`${API_URL}/chat/${chatId}/messages`, {\n        headers: getAuthHeaders()\n      });\n\n      if (!response.ok) throw new Error('Failed to fetch messages');\n\n      const data = await response.json();\n      const transformedMessages = (data.data || []).map(msg => ({\n        id: msg._id,\n        senderId: msg.senderId,\n        text: msg.content,\n        time: new Date(msg.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\n        isOwn: msg.senderId === user?._id || msg.senderId?._id === user?._id,\n        read: msg.read\n      }));\n      setMessages(transformedMessages);\n    } catch (error) {\n      console.error('Failed to fetch messages:', error);\n    } finally {\n      if (showLoading) setLoadingMessages(false);\n    }\n  };\n\n  const fetchAlerts = async () => {\n    // Alerts are not persisted in our current implementation\n    setAlerts([]);\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedContact || sendingMessage) return;\n\n    const messageText = newMessage;\n    setNewMessage('');\n\n    // Optimistic update\n    const optimisticMessage = {\n      id: Date.now(),\n      senderId: user?._id,\n      text: messageText,\n      time: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\n      isOwn: true,\n    };\n    setMessages(prev => [...prev, optimisticMessage]);\n\n    try {\n      setSendingMessage(true);\n      const response = await fetch(`${API_URL}/chat/send/${selectedContact._id}`, {\n        method: 'POST',\n        headers: getAuthHeaders(),\n        body: JSON.stringify({ content: messageText })\n      });\n\n      if (!response.ok) throw new Error('Failed to send message');\n\n      const data = await response.json();\n\n      // Update chat ID if we didn't have one\n      if (!currentChatId && data.data?.chatId) {\n        setCurrentChatId(data.data.chatId);\n      }\n\n      // Refresh messages to get server-confirmed message\n      if (currentChatId || data.data?.chatId) {\n        await fetchMessagesForChat(currentChatId || data.data.chatId, false);\n      }\n    } catch (error) {\n      console.error('Failed to send message:', error);\n      // Remove optimistic message on failure\n      setMessages(prev => prev.filter(msg => msg.id !== optimisticMessage.id));\n      setNewMessage(messageText); // Restore the message\n      alert('Failed to send message. Please try again.');\n    } finally {\n      setSendingMessage(false);\n    }\n  };\n\n  const handleEmergencyRequest = async (e) => {\n    e.preventDefault();\n    try {\n      await api.post('/nurse/emergency', {\n        type: emergencyType,\n        location: emergencyLocation,\n        details: emergencyDetails,\n      });\n      alert('Emergency request sent successfully!');\n    } catch (error) {\n      alert('Emergency request sent (mock mode)');\n    }\n    setShowEmergencyModal(false);\n    setEmergencyType('');\n    setEmergencyLocation('');\n    setEmergencyDetails('');\n  };\n\n  const filteredContacts = contacts.filter((contact) => {\n    const matchesSearch = contact.name.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = filterCategory === 'all' || contact.category === filterCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'online': return '#22c55e';\n      case 'busy': return '#f59e0b';\n      case 'offline': return '#9ca3af';\n      default: return '#9ca3af';\n    }\n  };\n\n  const getAlertIcon = (type) => {\n    switch (type) {\n      case 'urgent': return 'ðŸš¨';\n      case 'warning': return 'âš ï¸';\n      case 'info': return 'â„¹ï¸';\n      default: return 'ðŸ“¢';\n    }\n  };\n\n  const getAlertColor = (type) => {\n    switch (type) {\n      case 'urgent': return '#fee2e2';\n      case 'warning': return '#fef3c7';\n      case 'info': return '#e0f2fe';\n      default: return '#f3f4f6';\n    }\n  };\n\n  const styles = {\n    container: {\n      padding: '24px',\n      backgroundColor: '#f8fafc',\n      minHeight: 'calc(100vh - 64px)',\n    },\n    header: {\n      marginBottom: '24px',\n    },\n    title: {\n      fontSize: '28px',\n      fontWeight: '700',\n      color: '#1e293b',\n      margin: 0,\n    },\n    subtitle: {\n      color: '#64748b',\n      margin: '4px 0 0 0',\n    },\n    mainGrid: {\n      display: 'grid',\n      gridTemplateColumns: '320px 1fr 300px',\n      gap: '24px',\n      height: 'calc(100vh - 180px)',\n    },\n    // Contacts Panel\n    contactsPanel: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden',\n    },\n    contactsHeader: {\n      padding: '20px',\n      borderBottom: '1px solid #e2e8f0',\n    },\n    searchInput: {\n      width: '100%',\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '12px',\n      fontSize: '14px',\n      marginBottom: '12px',\n      outline: 'none',\n    },\n    filterTabs: {\n      display: 'flex',\n      gap: '8px',\n    },\n    filterTab: {\n      padding: '8px 12px',\n      border: 'none',\n      borderRadius: '20px',\n      fontSize: '12px',\n      fontWeight: '500',\n      cursor: 'pointer',\n      transition: 'all 0.2s',\n    },\n    contactsList: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '12px',\n    },\n    contactItem: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: '12px',\n      borderRadius: '12px',\n      cursor: 'pointer',\n      marginBottom: '4px',\n      transition: 'all 0.2s',\n    },\n    contactAvatar: {\n      width: '48px',\n      height: '48px',\n      borderRadius: '50%',\n      backgroundColor: '#3b82f6',\n      color: 'white',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontWeight: '600',\n      fontSize: '14px',\n      marginRight: '12px',\n      position: 'relative',\n    },\n    statusDot: {\n      position: 'absolute',\n      bottom: '2px',\n      right: '2px',\n      width: '12px',\n      height: '12px',\n      borderRadius: '50%',\n      border: '2px solid white',\n    },\n    contactInfo: {\n      flex: 1,\n    },\n    contactName: {\n      fontWeight: '600',\n      color: '#1e293b',\n      fontSize: '14px',\n      marginBottom: '2px',\n    },\n    contactRole: {\n      color: '#64748b',\n      fontSize: '12px',\n    },\n    unreadBadge: {\n      backgroundColor: '#ef4444',\n      color: 'white',\n      borderRadius: '50%',\n      width: '20px',\n      height: '20px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: '11px',\n      fontWeight: '600',\n    },\n    // Chat Panel\n    chatPanel: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden',\n    },\n    chatHeader: {\n      padding: '16px 20px',\n      borderBottom: '1px solid #e2e8f0',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n    },\n    chatHeaderInfo: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '12px',\n    },\n    chatActions: {\n      display: 'flex',\n      gap: '8px',\n    },\n    actionBtn: {\n      padding: '8px 12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      backgroundColor: 'white',\n      cursor: 'pointer',\n      fontSize: '14px',\n      transition: 'all 0.2s',\n    },\n    chatMessages: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '20px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '12px',\n    },\n    emptyChat: {\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: '#94a3b8',\n    },\n    messageRow: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n    },\n    messageRowOwn: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n    },\n    messageBubble: {\n      maxWidth: '70%',\n      padding: '12px 16px',\n      borderRadius: '16px',\n      fontSize: '14px',\n      lineHeight: '1.5',\n    },\n    messageTime: {\n      fontSize: '11px',\n      marginTop: '4px',\n    },\n    chatInputArea: {\n      padding: '16px 20px',\n      borderTop: '1px solid #e2e8f0',\n    },\n    chatForm: {\n      display: 'flex',\n      gap: '12px',\n    },\n    messageInput: {\n      flex: 1,\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '24px',\n      fontSize: '14px',\n      outline: 'none',\n    },\n    sendBtn: {\n      padding: '12px 24px',\n      backgroundColor: '#3b82f6',\n      color: 'white',\n      border: 'none',\n      borderRadius: '24px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      transition: 'all 0.2s',\n    },\n    // Right Panel\n    rightPanel: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '16px',\n    },\n    quickActions: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      padding: '20px',\n    },\n    sectionTitle: {\n      fontSize: '16px',\n      fontWeight: '600',\n      color: '#1e293b',\n      marginBottom: '16px',\n    },\n    quickActionBtns: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '8px',\n    },\n    quickActionBtn: {\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '12px',\n      backgroundColor: 'white',\n      cursor: 'pointer',\n      fontSize: '14px',\n      fontWeight: '500',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '10px',\n      transition: 'all 0.2s',\n    },\n    emergencyBtn: {\n      padding: '14px 16px',\n      backgroundColor: '#ef4444',\n      color: 'white',\n      border: 'none',\n      borderRadius: '12px',\n      cursor: 'pointer',\n      fontSize: '14px',\n      fontWeight: '600',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '8px',\n      marginTop: '8px',\n      transition: 'all 0.2s',\n    },\n    alertsSection: {\n      flex: 1,\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      padding: '20px',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    alertsList: {\n      flex: 1,\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '8px',\n    },\n    alertItem: {\n      padding: '12px',\n      borderRadius: '10px',\n      display: 'flex',\n      gap: '10px',\n    },\n    alertContent: {\n      flex: 1,\n    },\n    alertTitle: {\n      fontSize: '13px',\n      fontWeight: '500',\n      color: '#1e293b',\n      marginBottom: '2px',\n    },\n    alertTime: {\n      fontSize: '11px',\n      color: '#64748b',\n    },\n    // Modal\n    modalOverlay: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n    },\n    modal: {\n      backgroundColor: 'white',\n      borderRadius: '20px',\n      padding: '24px',\n      width: '90%',\n      maxWidth: '450px',\n      boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',\n    },\n    modalHeader: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '20px',\n    },\n    modalTitle: {\n      fontSize: '20px',\n      fontWeight: '700',\n      color: '#ef4444',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n    },\n    closeBtn: {\n      background: 'none',\n      border: 'none',\n      fontSize: '24px',\n      cursor: 'pointer',\n      color: '#64748b',\n    },\n    formGroup: {\n      marginBottom: '16px',\n    },\n    label: {\n      display: 'block',\n      marginBottom: '6px',\n      fontWeight: '500',\n      color: '#374151',\n      fontSize: '14px',\n    },\n    select: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none',\n    },\n    input: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none',\n      boxSizing: 'border-box',\n    },\n    textarea: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none',\n      resize: 'vertical',\n      minHeight: '100px',\n      boxSizing: 'border-box',\n    },\n    submitEmergencyBtn: {\n      width: '100%',\n      padding: '14px',\n      backgroundColor: '#ef4444',\n      color: 'white',\n      border: 'none',\n      borderRadius: '10px',\n      fontSize: '16px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      marginTop: '8px',\n    },\n  };\n\n  return (\n    <Layout appName=\"NurseHub\" role=\"nurse\">\n      <div style={styles.header}>\n        <h1 style={styles.title}>Messages & Communication</h1>\n        <p style={styles.subtitle}>Stay connected with your team</p>\n      </div>\n\n      <div style={styles.mainGrid}>\n        {/* Contacts Panel */}\n        <div style={styles.contactsPanel}>\n          <div style={styles.contactsHeader}>\n            <input\n              type=\"text\"\n              placeholder=\"Search contacts...\"\n              style={styles.searchInput}\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <div style={styles.filterTabs}>\n              {[\n                { key: 'all', label: 'All' },\n                { key: 'doctors', label: 'Doctors' },\n                { key: 'nurses', label: 'Nurses' },\n                { key: 'departments', label: 'Depts' },\n              ].map((tab) => (\n                <button\n                  key={tab.key}\n                  style={{\n                    ...styles.filterTab,\n                    backgroundColor: filterCategory === tab.key ? '#3b82f6' : '#f1f5f9',\n                    color: filterCategory === tab.key ? 'white' : '#64748b',\n                  }}\n                  onClick={() => setFilterCategory(tab.key)}\n                >\n                  {tab.label}\n                </button>\n              ))}\n            </div>\n          </div>\n          <div style={styles.contactsList}>\n            {filteredContacts.map((contact) => (\n              <div\n                key={contact.id}\n                style={{\n                  ...styles.contactItem,\n                  backgroundColor: selectedContact?.id === contact.id ? '#eff6ff' : 'transparent',\n                }}\n                onClick={() => setSelectedContact(contact)}\n              >\n                <div style={styles.contactAvatar}>\n                  {contact.avatar}\n                  <div\n                    style={{\n                      ...styles.statusDot,\n                      backgroundColor: getStatusColor(contact.status),\n                    }}\n                  />\n                </div>\n                <div style={styles.contactInfo}>\n                  <div style={styles.contactName}>{contact.name}</div>\n                  <div style={styles.contactRole}>{contact.role}</div>\n                </div>\n                {contact.unread > 0 && (\n                  <div style={styles.unreadBadge}>{contact.unread}</div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Chat Panel */}\n        <div style={styles.chatPanel}>\n          {selectedContact ? (\n            <>\n              <div style={styles.chatHeader}>\n                <div style={styles.chatHeaderInfo}>\n                  <div style={{ ...styles.contactAvatar, marginRight: 0 }}>\n                    {selectedContact.avatar}\n                    <div\n                      style={{\n                        ...styles.statusDot,\n                        backgroundColor: getStatusColor(selectedContact.status),\n                      }}\n                    />\n                  </div>\n                  <div>\n                    <div style={styles.contactName}>{selectedContact.name}</div>\n                    <div style={styles.contactRole}>{selectedContact.role} - {selectedContact.status}</div>\n                  </div>\n                </div>\n                <div style={styles.chatActions}>\n                  <button style={styles.actionBtn}>ðŸ“ž Call</button>\n                  <button style={styles.actionBtn}>ðŸ“¹ Video</button>\n                </div>\n              </div>\n              <div style={styles.chatMessages}>\n                {messages.map((message) => (\n                  <div\n                    key={message.id}\n                    style={message.isOwn ? styles.messageRowOwn : styles.messageRow}\n                  >\n                    <div\n                      style={{\n                        ...styles.messageBubble,\n                        backgroundColor: message.isOwn ? '#3b82f6' : '#f1f5f9',\n                        color: message.isOwn ? 'white' : '#1e293b',\n                        borderBottomRightRadius: message.isOwn ? '4px' : '16px',\n                        borderBottomLeftRadius: message.isOwn ? '16px' : '4px',\n                      }}\n                    >\n                      <div>{message.text}</div>\n                      <div\n                        style={{\n                          ...styles.messageTime,\n                          color: message.isOwn ? 'rgba(255,255,255,0.7)' : '#94a3b8',\n                          textAlign: message.isOwn ? 'right' : 'left',\n                        }}\n                      >\n                        {message.time}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                <div ref={messagesEndRef} />\n              </div>\n              <div style={styles.chatInputArea}>\n                <form style={styles.chatForm} onSubmit={handleSendMessage}>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Type a message...\"\n                    style={styles.messageInput}\n                    value={newMessage}\n                    onChange={(e) => setNewMessage(e.target.value)}\n                  />\n                  <button type=\"submit\" style={styles.sendBtn}>\n                    Send\n                  </button>\n                </form>\n              </div>\n            </>\n          ) : (\n            <div style={styles.emptyChat}>\n              <div style={{ fontSize: '64px', marginBottom: '16px' }}>ðŸ’¬</div>\n              <div style={{ fontSize: '18px', fontWeight: '500', marginBottom: '8px' }}>\n                Select a conversation\n              </div>\n              <div style={{ fontSize: '14px' }}>\n                Choose a contact to start messaging\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Right Panel */}\n        <div style={styles.rightPanel}>\n          {/* Quick Actions */}\n          <div style={styles.quickActions}>\n            <h3 style={styles.sectionTitle}>Quick Actions</h3>\n            <div style={styles.quickActionBtns}>\n              <button style={styles.quickActionBtn}>\n                <span>ðŸ‘¥</span> Group Chat\n              </button>\n              <button style={styles.quickActionBtn}>\n                <span>ðŸ“‹</span> Call Directory\n              </button>\n              <button style={styles.quickActionBtn}>\n                <span>ðŸ“¢</span> Broadcast Message\n              </button>\n              <button\n                style={styles.emergencyBtn}\n                onClick={() => setShowEmergencyModal(true)}\n              >\n                <span>ðŸš¨</span> Emergency Request\n              </button>\n            </div>\n          </div>\n\n          {/* Alerts Section */}\n          <div style={styles.alertsSection}>\n            <h3 style={styles.sectionTitle}>Recent Updates & Alerts</h3>\n            <div style={styles.alertsList}>\n              {alerts.map((alert) => (\n                <div\n                  key={alert.id}\n                  style={{\n                    ...styles.alertItem,\n                    backgroundColor: getAlertColor(alert.type),\n                    opacity: alert.read ? 0.7 : 1,\n                  }}\n                >\n                  <span style={{ fontSize: '18px' }}>{getAlertIcon(alert.type)}</span>\n                  <div style={styles.alertContent}>\n                    <div style={styles.alertTitle}>{alert.title}</div>\n                    <div style={styles.alertTime}>{alert.time}</div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Emergency Modal */}\n      {showEmergencyModal && (\n        <div style={styles.modalOverlay} onClick={() => setShowEmergencyModal(false)}>\n          <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\n            <div style={styles.modalHeader}>\n              <h2 style={styles.modalTitle}>\n                <span>ðŸš¨</span> Emergency Request\n              </h2>\n              <button style={styles.closeBtn} onClick={() => setShowEmergencyModal(false)}>\n                &times;\n              </button>\n            </div>\n            <form onSubmit={handleEmergencyRequest}>\n              <div style={styles.formGroup}>\n                <label style={styles.label}>Emergency Type *</label>\n                <select\n                  style={styles.select}\n                  value={emergencyType}\n                  onChange={(e) => setEmergencyType(e.target.value)}\n                  required\n                >\n                  <option value=\"\">Select type</option>\n                  <option value=\"code_blue\">Code Blue - Cardiac Arrest</option>\n                  <option value=\"code_red\">Code Red - Fire</option>\n                  <option value=\"code_pink\">Code Pink - Infant Abduction</option>\n                  <option value=\"code_orange\">Code Orange - Hazmat</option>\n                  <option value=\"rapid_response\">Rapid Response Team</option>\n                  <option value=\"security\">Security Assistance</option>\n                  <option value=\"other\">Other Emergency</option>\n                </select>\n              </div>\n              <div style={styles.formGroup}>\n                <label style={styles.label}>Location *</label>\n                <input\n                  type=\"text\"\n                  style={styles.input}\n                  placeholder=\"e.g., Room 305, ICU Ward\"\n                  value={emergencyLocation}\n                  onChange={(e) => setEmergencyLocation(e.target.value)}\n                  required\n                />\n              </div>\n              <div style={styles.formGroup}>\n                <label style={styles.label}>Details</label>\n                <textarea\n                  style={styles.textarea}\n                  placeholder=\"Provide any additional details...\"\n                  value={emergencyDetails}\n                  onChange={(e) => setEmergencyDetails(e.target.value)}\n                />\n              </div>\n              <button type=\"submit\" style={styles.submitEmergencyBtn}>\n                Send Emergency Alert\n              </button>\n            </form>\n          </div>\n        </div>\n      )}\n    </Layout>\n  );\n};\n\nexport default NurseMessages;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}