{"ast":null,"code":"import axios from'axios';const api=axios.create({baseURL:process.env.REACT_APP_API_URL||'http://localhost:5000/api/v1',headers:{'Content-Type':'application/json'}});api.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});api.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';}return Promise.reject(error);});export const nurseAPI={getAssignedPatients:()=>api.get('/nurse/assigned-patients'),getCriticalEvents:()=>api.get('/nurse/critical-events'),getPatientVitals:patientId=>api.get(\"/nurse/patient/\".concat(patientId,\"/vitals\")),getVitalsOverview:()=>api.get('/nurse/vitals-overview'),updateVitals:(patientId,data)=>api.put(\"/nurse/patient/\".concat(patientId,\"/vitals\"),data)};export const doctorAPI={getNursesOnShift:()=>api.get('/doctor/nurses-on-shift'),assignPatient:data=>api.post('/doctor/assign-patient',data),updateTreatment:data=>api.put('/doctor/update-treatment',data),closeCase:data=>api.post('/doctor/close-case',data),getPatients:()=>api.get('/doctor/patients'),getCriticalCases:()=>api.get('/doctor/critical-cases')};export const patientAPI={getVitals:()=>api.get('/patient/vitals'),getMedicalHistory:()=>api.get('/patient/medical-history'),getBilling:()=>api.get('/patient/billing'),downloadRecords:()=>api.get('/patient/download-records')};export const receptionistAPI={registerPatient:data=>api.post('/receptionist/register-patient',data),getPatient:patientId=>api.get(\"/receptionist/patient/\".concat(patientId)),searchPatient:nationalID=>api.get(\"/receptionist/patient/search/\".concat(nationalID)),getPatientVisits:patientId=>api.get(\"/receptionist/patient/\".concat(patientId,\"/visits\")),getPatientBilling:patientId=>api.get(\"/receptionist/patient/\".concat(patientId,\"/billing\")),getDischargeStatus:patientId=>api.get(\"/receptionist/patient/\".concat(patientId,\"/discharge-status\")),updatePatient:(patientId,data)=>api.put(\"/receptionist/patient/\".concat(patientId),data)};export const vitalsAPI={receiveVitals:data=>api.post('/vitals/receive',data),getPatientVitals:patientId=>api.get(\"/vitals/patient/\".concat(patientId))};export const notificationAPI={getNotifications:()=>api.get('/notifications'),markAsRead:notificationId=>api.put('/notifications/read',{notificationId}),markAllAsRead:()=>api.put('/notifications/read-all')};export const visitAPI={startVisit:data=>api.post('/visits/start',data),endVisit:visitId=>api.put(\"/visits/\".concat(visitId,\"/end\"))};export const medicalRecordAPI={uploadRecord:formData=>api.post('/medical-records/upload',formData,{headers:{'Content-Type':'multipart/form-data'}}),getPatientRecords:patientId=>api.get(\"/medical-records/patient/\".concat(patientId)),downloadFile:recordId=>api.get(\"/files/\".concat(recordId),{responseType:'blob'})};export default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","nurseAPI","getAssignedPatients","get","getCriticalEvents","getPatientVitals","patientId","getVitalsOverview","updateVitals","data","put","doctorAPI","getNursesOnShift","assignPatient","post","updateTreatment","closeCase","getPatients","getCriticalCases","patientAPI","getVitals","getMedicalHistory","getBilling","downloadRecords","receptionistAPI","registerPatient","getPatient","searchPatient","nationalID","getPatientVisits","getPatientBilling","getDischargeStatus","updatePatient","vitalsAPI","receiveVitals","notificationAPI","getNotifications","markAsRead","notificationId","markAllAsRead","visitAPI","startVisit","endVisit","visitId","medicalRecordAPI","uploadRecord","formData","getPatientRecords","downloadFile","recordId","responseType"],"sources":["E:/ECU-Materials/Senior - 2/Graduation Project/semester 2 isa/software reham- rahma/v1 soft app/EXIR/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api/v1',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const nurseAPI = {\r\n  getAssignedPatients: () => api.get('/nurse/assigned-patients'),\r\n  getCriticalEvents: () => api.get('/nurse/critical-events'),\r\n  getPatientVitals: (patientId) => api.get(`/nurse/patient/${patientId}/vitals`),\r\n  getVitalsOverview: () => api.get('/nurse/vitals-overview'),\r\n  updateVitals: (patientId, data) => api.put(`/nurse/patient/${patientId}/vitals`, data)\r\n};\r\n\r\nexport const doctorAPI = {\r\n  getNursesOnShift: () => api.get('/doctor/nurses-on-shift'),\r\n  assignPatient: (data) => api.post('/doctor/assign-patient', data),\r\n  updateTreatment: (data) => api.put('/doctor/update-treatment', data),\r\n  closeCase: (data) => api.post('/doctor/close-case', data),\r\n  getPatients: () => api.get('/doctor/patients'),\r\n  getCriticalCases: () => api.get('/doctor/critical-cases')\r\n};\r\n\r\nexport const patientAPI = {\r\n  getVitals: () => api.get('/patient/vitals'),\r\n  getMedicalHistory: () => api.get('/patient/medical-history'),\r\n  getBilling: () => api.get('/patient/billing'),\r\n  downloadRecords: () => api.get('/patient/download-records')\r\n};\r\n\r\nexport const receptionistAPI = {\r\n  registerPatient: (data) => api.post('/receptionist/register-patient', data),\r\n  getPatient: (patientId) => api.get(`/receptionist/patient/${patientId}`),\r\n  searchPatient: (nationalID) => api.get(`/receptionist/patient/search/${nationalID}`),\r\n  getPatientVisits: (patientId) => api.get(`/receptionist/patient/${patientId}/visits`),\r\n  getPatientBilling: (patientId) => api.get(`/receptionist/patient/${patientId}/billing`),\r\n  getDischargeStatus: (patientId) => api.get(`/receptionist/patient/${patientId}/discharge-status`),\r\n  updatePatient: (patientId, data) => api.put(`/receptionist/patient/${patientId}`, data)\r\n};\r\n\r\nexport const vitalsAPI = {\r\n  receiveVitals: (data) => api.post('/vitals/receive', data),\r\n  getPatientVitals: (patientId) => api.get(`/vitals/patient/${patientId}`)\r\n};\r\n\r\nexport const notificationAPI = {\r\n  getNotifications: () => api.get('/notifications'),\r\n  markAsRead: (notificationId) => api.put('/notifications/read', { notificationId }),\r\n  markAllAsRead: () => api.put('/notifications/read-all')\r\n};\r\n\r\nexport const visitAPI = {\r\n  startVisit: (data) => api.post('/visits/start', data),\r\n  endVisit: (visitId) => api.put(`/visits/${visitId}/end`)\r\n};\r\n\r\nexport const medicalRecordAPI = {\r\n  uploadRecord: (formData) => api.post('/medical-records/upload', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }\r\n  }),\r\n  getPatientRecords: (patientId) => api.get(`/medical-records/patient/${patientId}`),\r\n  downloadFile: (recordId) => api.get(`/files/${recordId}`, { responseType: 'blob' })\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}