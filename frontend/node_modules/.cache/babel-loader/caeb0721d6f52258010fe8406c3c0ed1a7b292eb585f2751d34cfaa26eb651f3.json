{"ast":null,"code":"var _jsxFileName = \"E:\\\\ECU-Materials\\\\Senior - 2\\\\Graduation Project\\\\semester 2 isa\\\\software reham- rahma\\\\v1 soft app\\\\EXIR\\\\frontend\\\\src\\\\pages\\\\doctor\\\\DoctorMessages.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport Layout from '../../components/common/Layout';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DoctorMessages = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [contacts, setContacts] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [currentChatId, setCurrentChatId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [alerts, setAlerts] = useState([]);\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [emergencyType, setEmergencyType] = useState('');\n  const [emergencyLocation, setEmergencyLocation] = useState('');\n  const [emergencyDetails, setEmergencyDetails] = useState('');\n  const [loadingContacts, setLoadingContacts] = useState(true);\n  const [loadingMessages, setLoadingMessages] = useState(false);\n  const [sendingMessage, setSendingMessage] = useState(false);\n  const messagesEndRef = useRef(null);\n  const pollIntervalRef = useRef(null);\n  const contactsPollRef = useRef(null);\n  useEffect(() => {\n    fetchContacts();\n    fetchAlerts();\n    if (contactsPollRef.current) clearInterval(contactsPollRef.current);\n    contactsPollRef.current = setInterval(() => {\n      fetchContacts();\n    }, 10000);\n    return () => {\n      if (pollIntervalRef.current) clearInterval(pollIntervalRef.current);\n      if (contactsPollRef.current) clearInterval(contactsPollRef.current);\n    };\n  }, []);\n  useEffect(() => {\n    if (selectedContact) {\n      const contactId = selectedContact._id || selectedContact.id;\n      fetchChatWithUser(contactId);\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n      pollIntervalRef.current = setInterval(() => {\n        if (currentChatId) {\n          fetchMessagesForChat(currentChatId, false);\n        }\n      }, 5000);\n    }\n    return () => {\n      if (pollIntervalRef.current) {\n        clearInterval(pollIntervalRef.current);\n      }\n    };\n  }, [selectedContact]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const fetchContacts = async () => {\n    try {\n      var _user$_id, _user$_id$toString, _user$id, _user$id$toString;\n      setLoadingContacts(true);\n      const resp = await api.get('/chat/contacts');\n      const data = resp.data;\n      const rawList = Array.isArray(data === null || data === void 0 ? void 0 : data.data) ? data.data : Array.isArray(data) ? data : [];\n      const currentUserId = (user === null || user === void 0 ? void 0 : (_user$_id = user._id) === null || _user$_id === void 0 ? void 0 : (_user$_id$toString = _user$_id.toString) === null || _user$_id$toString === void 0 ? void 0 : _user$_id$toString.call(_user$_id)) || (user === null || user === void 0 ? void 0 : (_user$id = user.id) === null || _user$id === void 0 ? void 0 : (_user$id$toString = _user$id.toString) === null || _user$id$toString === void 0 ? void 0 : _user$id$toString.call(_user$id));\n      const transformedContacts = rawList.filter(c => {\n        var _c$_id, _c$_id$toString, _c$id, _c$id$toString;\n        return (((_c$_id = c._id) === null || _c$_id === void 0 ? void 0 : (_c$_id$toString = _c$_id.toString) === null || _c$_id$toString === void 0 ? void 0 : _c$_id$toString.call(_c$_id)) || ((_c$id = c.id) === null || _c$id === void 0 ? void 0 : (_c$id$toString = _c$id.toString) === null || _c$id$toString === void 0 ? void 0 : _c$id$toString.call(_c$id))) !== currentUserId;\n      }).map(contact => {\n        var _contact$unread;\n        return {\n          ...contact,\n          _id: contact._id || contact.id,\n          id: contact._id || contact.id,\n          name: contact.name || contact.fullName || 'Unknown',\n          fullName: contact.fullName || contact.name,\n          avatar: (contact.avatar || (contact.fullName || contact.name || '?').charAt(0)).toUpperCase(),\n          role: contact.roleLabel || (contact.role ? contact.role.charAt(0).toUpperCase() + contact.role.slice(1) : 'Staff'),\n          status: contact.status || (contact.isLoggedIn ? 'online' : 'offline'),\n          category: contact.category || (contact.role === 'doctor' ? 'doctors' : contact.role === 'nurse' ? 'nurses' : 'other'),\n          unread: (_contact$unread = contact.unread) !== null && _contact$unread !== void 0 ? _contact$unread : 0,\n          phone: contact.phone || null\n        };\n      });\n      setContacts(transformedContacts);\n    } catch (error) {\n      console.error('Failed to fetch contacts:', error);\n      setContacts([]);\n    } finally {\n      setLoadingContacts(false);\n    }\n  };\n  const fetchChatWithUser = async userId => {\n    var _userId$toString;\n    const id = userId === null || userId === void 0 ? void 0 : (_userId$toString = userId.toString) === null || _userId$toString === void 0 ? void 0 : _userId$toString.call(userId);\n    if (!id) return;\n    try {\n      var _resp$data;\n      setLoadingMessages(true);\n      const resp = await api.get(`/chat/with/${id}`);\n      const chat = ((_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : _resp$data.data) || resp.data;\n      const chatId = (chat === null || chat === void 0 ? void 0 : chat._id) || (chat === null || chat === void 0 ? void 0 : chat.chatId);\n      setCurrentChatId(chatId);\n      const transformedMessages = (chat.messages || []).map(msg => {\n        var _msg$senderId, _msg$senderId$toStrin, _user$_id2, _user$_id2$toString, _user$id2, _user$id2$toString;\n        return {\n          id: msg._id,\n          senderId: msg.senderId,\n          text: msg.content,\n          time: new Date(msg.timestamp).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n          }),\n          isOwn: (((_msg$senderId = msg.senderId) === null || _msg$senderId === void 0 ? void 0 : (_msg$senderId$toStrin = _msg$senderId.toString) === null || _msg$senderId$toStrin === void 0 ? void 0 : _msg$senderId$toStrin.call(_msg$senderId)) || msg.senderId) === ((user === null || user === void 0 ? void 0 : (_user$_id2 = user._id) === null || _user$_id2 === void 0 ? void 0 : (_user$_id2$toString = _user$_id2.toString) === null || _user$_id2$toString === void 0 ? void 0 : _user$_id2$toString.call(_user$_id2)) || (user === null || user === void 0 ? void 0 : (_user$id2 = user.id) === null || _user$id2 === void 0 ? void 0 : (_user$id2$toString = _user$id2.toString) === null || _user$id2$toString === void 0 ? void 0 : _user$id2$toString.call(_user$id2))),\n          read: msg.read\n        };\n      });\n      setMessages(transformedMessages);\n      if (chatId) {\n        api.patch(`/chat/${chatId}/read`).catch(err => console.error('Failed to mark as read:', err));\n      }\n    } catch (error) {\n      console.error('Failed to fetch chat:', error);\n      setMessages([]);\n    } finally {\n      setLoadingMessages(false);\n    }\n  };\n  const fetchMessagesForChat = async (chatId, showLoading = true) => {\n    if (!chatId) return;\n    try {\n      var _user$_id3, _user$_id3$toString, _user$id3, _user$id3$toString;\n      if (showLoading) setLoadingMessages(true);\n      const resp = await api.get(`/chat/${chatId}/messages`);\n      const data = resp.data;\n      const list = Array.isArray(data === null || data === void 0 ? void 0 : data.data) ? data.data : Array.isArray(data) ? data : [];\n      const currentUserId = (user === null || user === void 0 ? void 0 : (_user$_id3 = user._id) === null || _user$_id3 === void 0 ? void 0 : (_user$_id3$toString = _user$_id3.toString) === null || _user$_id3$toString === void 0 ? void 0 : _user$_id3$toString.call(_user$_id3)) || (user === null || user === void 0 ? void 0 : (_user$id3 = user.id) === null || _user$id3 === void 0 ? void 0 : (_user$id3$toString = _user$id3.toString) === null || _user$id3$toString === void 0 ? void 0 : _user$id3$toString.call(_user$id3));\n      const transformedMessages = list.map(msg => {\n        var _msg$senderId2, _msg$senderId2$toStri, _msg$senderId3, _msg$senderId3$_id, _msg$senderId3$_id$to;\n        const senderIdStr = ((_msg$senderId2 = msg.senderId) === null || _msg$senderId2 === void 0 ? void 0 : (_msg$senderId2$toStri = _msg$senderId2.toString) === null || _msg$senderId2$toStri === void 0 ? void 0 : _msg$senderId2$toStri.call(_msg$senderId2)) || ((_msg$senderId3 = msg.senderId) === null || _msg$senderId3 === void 0 ? void 0 : (_msg$senderId3$_id = _msg$senderId3._id) === null || _msg$senderId3$_id === void 0 ? void 0 : (_msg$senderId3$_id$to = _msg$senderId3$_id.toString) === null || _msg$senderId3$_id$to === void 0 ? void 0 : _msg$senderId3$_id$to.call(_msg$senderId3$_id)) || '';\n        return {\n          id: msg._id,\n          senderId: msg.senderId,\n          text: msg.content,\n          time: new Date(msg.timestamp).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n          }),\n          isOwn: senderIdStr === currentUserId,\n          read: msg.read\n        };\n      });\n      setMessages(transformedMessages);\n    } catch (error) {\n      console.error('Failed to fetch messages:', error);\n    } finally {\n      if (showLoading) setLoadingMessages(false);\n    }\n  };\n  const fetchAlerts = async () => {\n    setAlerts([]);\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedContact || sendingMessage) return;\n    const messageText = newMessage;\n    setNewMessage('');\n    const optimisticMessage = {\n      id: Date.now(),\n      senderId: user === null || user === void 0 ? void 0 : user._id,\n      text: messageText,\n      time: new Date().toLocaleTimeString('en-US', {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      isOwn: true\n    };\n    setMessages(prev => [...prev, optimisticMessage]);\n    try {\n      var _data$data, _data$data3;\n      setSendingMessage(true);\n      const contactId = selectedContact._id || selectedContact.id;\n      const resp = await api.post(`/chat/send/${contactId}`, {\n        content: messageText\n      });\n      const data = resp.data;\n      if (!currentChatId && ((_data$data = data.data) !== null && _data$data !== void 0 && _data$data.chatId || data.chatId)) {\n        var _data$data2;\n        setCurrentChatId(((_data$data2 = data.data) === null || _data$data2 === void 0 ? void 0 : _data$data2.chatId) || data.chatId);\n      }\n      const newChatId = currentChatId || ((_data$data3 = data.data) === null || _data$data3 === void 0 ? void 0 : _data$data3.chatId) || data.chatId;\n      if (newChatId) {\n        await fetchMessagesForChat(newChatId, false);\n      }\n    } catch (error) {\n      console.error('Failed to send message:', error);\n      setMessages(prev => prev.filter(msg => msg.id !== optimisticMessage.id));\n      setNewMessage(messageText);\n      alert('Failed to send message. Please try again.');\n    } finally {\n      setSendingMessage(false);\n    }\n  };\n  const handleEmergencyRequest = async e => {\n    e.preventDefault();\n    alert(`Emergency Alert Sent!\\nType: ${emergencyType}\\nLocation: ${emergencyLocation}\\nDetails: ${emergencyDetails}`);\n    setShowEmergencyModal(false);\n    setEmergencyType('');\n    setEmergencyLocation('');\n    setEmergencyDetails('');\n  };\n  const filteredContacts = contacts.filter(contact => {\n    const matchesSearch = contact.name.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = filterCategory === 'all' || contact.category === filterCategory;\n    return matchesSearch && matchesCategory;\n  });\n  const getStatusColor = status => {\n    switch (status) {\n      case 'online':\n        return '#22c55e';\n      case 'busy':\n        return '#f59e0b';\n      case 'offline':\n        return '#9ca3af';\n      default:\n        return '#9ca3af';\n    }\n  };\n  const getAlertIcon = type => {\n    switch (type) {\n      case 'urgent':\n        return 'ðŸš¨';\n      case 'warning':\n        return 'âš ï¸';\n      case 'info':\n        return 'â„¹ï¸';\n      default:\n        return 'ðŸ“¢';\n    }\n  };\n  const getAlertColor = type => {\n    switch (type) {\n      case 'urgent':\n        return '#fee2e2';\n      case 'warning':\n        return '#fef3c7';\n      case 'info':\n        return '#e0f2fe';\n      default:\n        return '#f3f4f6';\n    }\n  };\n  const styles = {\n    container: {\n      padding: '24px',\n      backgroundColor: '#f8fafc',\n      minHeight: 'calc(100vh - 64px)'\n    },\n    header: {\n      marginBottom: '24px'\n    },\n    title: {\n      fontSize: '28px',\n      fontWeight: '700',\n      color: '#1e293b',\n      margin: 0\n    },\n    subtitle: {\n      color: '#64748b',\n      margin: '4px 0 0 0'\n    },\n    mainGrid: {\n      display: 'grid',\n      gridTemplateColumns: '320px 1fr 300px',\n      gap: '24px',\n      height: 'calc(100vh - 180px)'\n    },\n    contactsPanel: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    },\n    contactsHeader: {\n      padding: '20px',\n      borderBottom: '1px solid #e2e8f0'\n    },\n    searchInput: {\n      width: '100%',\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '12px',\n      fontSize: '14px',\n      marginBottom: '12px',\n      outline: 'none'\n    },\n    filterTabs: {\n      display: 'flex',\n      gap: '8px'\n    },\n    filterTab: {\n      padding: '8px 12px',\n      border: 'none',\n      borderRadius: '20px',\n      fontSize: '12px',\n      fontWeight: '500',\n      cursor: 'pointer',\n      transition: 'all 0.2s'\n    },\n    contactsList: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '12px'\n    },\n    contactItem: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: '12px',\n      borderRadius: '12px',\n      cursor: 'pointer',\n      marginBottom: '4px',\n      transition: 'all 0.2s'\n    },\n    contactAvatar: {\n      width: '48px',\n      height: '48px',\n      borderRadius: '50%',\n      backgroundColor: '#0ea5e9',\n      color: 'white',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontWeight: '600',\n      fontSize: '14px',\n      marginRight: '12px',\n      position: 'relative'\n    },\n    statusDot: {\n      position: 'absolute',\n      bottom: '2px',\n      right: '2px',\n      width: '12px',\n      height: '12px',\n      borderRadius: '50%',\n      border: '2px solid white'\n    },\n    contactInfo: {\n      flex: 1\n    },\n    contactName: {\n      fontWeight: '600',\n      color: '#1e293b',\n      fontSize: '14px',\n      marginBottom: '2px'\n    },\n    contactRole: {\n      color: '#64748b',\n      fontSize: '12px'\n    },\n    unreadBadge: {\n      backgroundColor: '#ef4444',\n      color: 'white',\n      borderRadius: '50%',\n      width: '20px',\n      height: '20px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: '11px',\n      fontWeight: '600'\n    },\n    chatPanel: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    },\n    chatHeader: {\n      padding: '16px 20px',\n      borderBottom: '1px solid #e2e8f0',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between'\n    },\n    chatHeaderInfo: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '12px'\n    },\n    chatActions: {\n      display: 'flex',\n      gap: '8px'\n    },\n    actionBtn: {\n      padding: '8px 12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      backgroundColor: 'white',\n      cursor: 'pointer',\n      fontSize: '14px',\n      transition: 'all 0.2s'\n    },\n    chatMessages: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '20px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '12px'\n    },\n    emptyChat: {\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: '#94a3b8'\n    },\n    messageRow: {\n      display: 'flex',\n      justifyContent: 'flex-start'\n    },\n    messageRowOwn: {\n      display: 'flex',\n      justifyContent: 'flex-end'\n    },\n    messageBubble: {\n      maxWidth: '70%',\n      padding: '12px 16px',\n      borderRadius: '16px',\n      fontSize: '14px',\n      lineHeight: '1.5'\n    },\n    messageTime: {\n      fontSize: '11px',\n      marginTop: '4px'\n    },\n    chatInputArea: {\n      padding: '16px 20px',\n      borderTop: '1px solid #e2e8f0'\n    },\n    chatForm: {\n      display: 'flex',\n      gap: '12px'\n    },\n    messageInput: {\n      flex: 1,\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '24px',\n      fontSize: '14px',\n      outline: 'none'\n    },\n    sendBtn: {\n      padding: '12px 24px',\n      backgroundColor: '#0ea5e9',\n      color: 'white',\n      border: 'none',\n      borderRadius: '24px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      transition: 'all 0.2s'\n    },\n    rightPanel: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '16px'\n    },\n    quickActions: {\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      padding: '20px'\n    },\n    sectionTitle: {\n      fontSize: '16px',\n      fontWeight: '600',\n      color: '#1e293b',\n      marginBottom: '16px'\n    },\n    quickActionBtns: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '8px'\n    },\n    quickActionBtn: {\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '12px',\n      backgroundColor: 'white',\n      cursor: 'pointer',\n      fontSize: '14px',\n      fontWeight: '500',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '10px',\n      transition: 'all 0.2s'\n    },\n    emergencyBtn: {\n      padding: '14px 16px',\n      backgroundColor: '#ef4444',\n      color: 'white',\n      border: 'none',\n      borderRadius: '12px',\n      cursor: 'pointer',\n      fontSize: '14px',\n      fontWeight: '600',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '8px',\n      marginTop: '8px',\n      transition: 'all 0.2s'\n    },\n    alertsSection: {\n      flex: 1,\n      backgroundColor: 'white',\n      borderRadius: '16px',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      padding: '20px',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    alertsList: {\n      flex: 1,\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '8px'\n    },\n    alertItem: {\n      padding: '12px',\n      borderRadius: '10px',\n      display: 'flex',\n      gap: '10px'\n    },\n    alertContent: {\n      flex: 1\n    },\n    alertTitle: {\n      fontSize: '13px',\n      fontWeight: '500',\n      color: '#1e293b',\n      marginBottom: '2px'\n    },\n    alertTime: {\n      fontSize: '11px',\n      color: '#64748b'\n    },\n    modalOverlay: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    modal: {\n      backgroundColor: 'white',\n      borderRadius: '20px',\n      padding: '24px',\n      width: '90%',\n      maxWidth: '450px',\n      boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\n    },\n    modalHeader: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: '20px'\n    },\n    modalTitle: {\n      fontSize: '20px',\n      fontWeight: '700',\n      color: '#ef4444',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px'\n    },\n    closeBtn: {\n      background: 'none',\n      border: 'none',\n      fontSize: '24px',\n      cursor: 'pointer',\n      color: '#64748b'\n    },\n    formGroup: {\n      marginBottom: '16px'\n    },\n    label: {\n      display: 'block',\n      marginBottom: '6px',\n      fontWeight: '500',\n      color: '#374151',\n      fontSize: '14px'\n    },\n    select: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none'\n    },\n    input: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none',\n      boxSizing: 'border-box'\n    },\n    textarea: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '10px',\n      fontSize: '14px',\n      outline: 'none',\n      resize: 'vertical',\n      minHeight: '100px',\n      boxSizing: 'border-box'\n    },\n    submitEmergencyBtn: {\n      width: '100%',\n      padding: '14px',\n      backgroundColor: '#ef4444',\n      color: 'white',\n      border: 'none',\n      borderRadius: '10px',\n      fontSize: '16px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      marginTop: '8px'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    appName: \"EXIR\",\n    role: \"doctor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.title,\n        children: \"Messages & Communication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.subtitle,\n        children: \"Message nurses and colleagues\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.mainGrid,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.contactsPanel,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.contactsHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search contacts...\",\n            style: styles.searchInput,\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.filterTabs,\n            children: [{\n              key: 'all',\n              label: 'All'\n            }, {\n              key: 'doctors',\n              label: 'Doctors'\n            }, {\n              key: 'nurses',\n              label: 'Nurses'\n            }, {\n              key: 'departments',\n              label: 'Depts'\n            }].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.filterTab,\n                backgroundColor: filterCategory === tab.key ? '#0ea5e9' : '#f1f5f9',\n                color: filterCategory === tab.key ? 'white' : '#64748b'\n              },\n              onClick: () => setFilterCategory(tab.key),\n              children: tab.label\n            }, tab.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.contactsList,\n          children: loadingContacts ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '20px',\n              color: '#94a3b8'\n            },\n            children: \"Loading contacts...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this) : filteredContacts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '20px',\n              color: '#94a3b8'\n            },\n            children: \"No contacts available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this) : filteredContacts.map(contact => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...styles.contactItem,\n              backgroundColor: (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id ? '#e0f2fe' : 'transparent'\n            },\n            onClick: () => setSelectedContact(contact),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.contactAvatar,\n              children: [contact.avatar, /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...styles.statusDot,\n                  backgroundColor: getStatusColor(contact.status)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.contactInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.contactName,\n                children: contact.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.contactRole,\n                children: contact.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this), contact.unread > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.unreadBadge,\n              children: contact.unread\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 42\n            }, this)]\n          }, contact.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatPanel,\n        children: selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chatHeader,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.chatHeaderInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...styles.contactAvatar,\n                  marginRight: 0\n                },\n                children: [selectedContact.avatar, /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    ...styles.statusDot,\n                    backgroundColor: getStatusColor(selectedContact.status)\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.contactName,\n                  children: selectedContact.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.contactRole,\n                  children: [selectedContact.role, \" - \", selectedContact.status]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.chatActions,\n              children: [selectedContact.phone ? /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `tel:${selectedContact.phone}`,\n                style: {\n                  ...styles.actionBtn,\n                  textDecoration: 'none',\n                  color: 'inherit'\n                },\n                children: \"\\uD83D\\uDCDE Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                style: styles.actionBtn,\n                title: \"No phone number on file\",\n                children: \"\\uD83D\\uDCDE Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: styles.actionBtn,\n                title: \"Video call (coming soon)\",\n                children: \"\\uD83D\\uDCF9 Video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chatMessages,\n            children: [loadingMessages ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                padding: '40px',\n                color: '#94a3b8'\n              },\n              children: \"Loading messages...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 19\n            }, this) : messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                padding: '40px',\n                color: '#94a3b8'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '32px',\n                  marginBottom: '8px'\n                },\n                children: \"\\uD83D\\uDC4B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"No messages yet. Start the conversation!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: message.isOwn ? styles.messageRowOwn : styles.messageRow,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...styles.messageBubble,\n                  backgroundColor: message.isOwn ? '#0ea5e9' : '#f1f5f9',\n                  color: message.isOwn ? 'white' : '#1e293b',\n                  borderBottomRightRadius: message.isOwn ? '4px' : '16px',\n                  borderBottomLeftRadius: message.isOwn ? '16px' : '4px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    ...styles.messageTime,\n                    color: message.isOwn ? 'rgba(255,255,255,0.7)' : '#94a3b8',\n                    textAlign: message.isOwn ? 'right' : 'left'\n                  },\n                  children: message.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 23\n              }, this)\n            }, message.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chatInputArea,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              style: styles.chatForm,\n              onSubmit: handleSendMessage,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Type a message...\",\n                style: styles.messageInput,\n                value: newMessage,\n                onChange: e => setNewMessage(e.target.value),\n                disabled: sendingMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                style: {\n                  ...styles.sendBtn,\n                  opacity: sendingMessage ? 0.7 : 1,\n                  cursor: sendingMessage ? 'not-allowed' : 'pointer'\n                },\n                disabled: sendingMessage,\n                children: sendingMessage ? 'Sending...' : 'Send'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.emptyChat,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '64px',\n              marginBottom: '16px'\n            },\n            children: \"\\uD83D\\uDCAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '18px',\n              fontWeight: '500',\n              marginBottom: '8px'\n            },\n            children: \"Select a conversation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '14px'\n            },\n            children: \"Choose a nurse or colleague to message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.rightPanel,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.quickActions,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Quick Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.quickActionBtns,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.quickActionBtn,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDC65\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 53\n              }, this), \" Group Chat\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.quickActionBtn,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCCB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 53\n              }, this), \" Call Directory\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.quickActionBtn,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCE2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 53\n              }, this), \" Broadcast Message\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.emergencyBtn,\n              onClick: () => setShowEmergencyModal(true),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDEA8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this), \" Emergency Request\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.alertsSection,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Recent Updates & Alerts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.alertsList,\n            children: alerts.map(alert => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.alertItem,\n                backgroundColor: getAlertColor(alert.type),\n                opacity: alert.read ? 0.7 : 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '18px'\n                },\n                children: getAlertIcon(alert.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.alertContent,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.alertTitle,\n                  children: alert.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.alertTime,\n                  children: alert.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)]\n            }, alert.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), showEmergencyModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      onClick: () => setShowEmergencyModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modal,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: styles.modalTitle,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDEA8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 45\n            }, this), \" Emergency Request\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.closeBtn,\n            onClick: () => setShowEmergencyModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleEmergencyRequest,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Emergency Type *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              style: styles.select,\n              value: emergencyType,\n              onChange: e => setEmergencyType(e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_blue\",\n                children: \"Code Blue - Cardiac Arrest\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_red\",\n                children: \"Code Red - Fire\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_pink\",\n                children: \"Code Pink - Infant Abduction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"code_orange\",\n                children: \"Code Orange - Hazmat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"rapid_response\",\n                children: \"Rapid Response Team\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"security\",\n                children: \"Security Assistance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"other\",\n                children: \"Other Emergency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Location *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              style: styles.input,\n              placeholder: \"e.g., Room 305, ICU Ward\",\n              value: emergencyLocation,\n              onChange: e => setEmergencyLocation(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              style: styles.textarea,\n              placeholder: \"Provide any additional details...\",\n              value: emergencyDetails,\n              onChange: e => setEmergencyDetails(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: styles.submitEmergencyBtn,\n            children: \"Send Emergency Alert\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n_s(DoctorMessages, \"vhiEGKbwQluOsWPcVkGwYkvbIxk=\", false, function () {\n  return [useAuth];\n});\n_c = DoctorMessages;\nexport default DoctorMessages;\nvar _c;\n$RefreshReg$(_c, \"DoctorMessages\");","map":{"version":3,"names":["useState","useEffect","useRef","Layout","useAuth","api","jsxDEV","_jsxDEV","Fragment","_Fragment","DoctorMessages","_s","user","contacts","setContacts","selectedContact","setSelectedContact","currentChatId","setCurrentChatId","messages","setMessages","newMessage","setNewMessage","searchTerm","setSearchTerm","filterCategory","setFilterCategory","alerts","setAlerts","showEmergencyModal","setShowEmergencyModal","emergencyType","setEmergencyType","emergencyLocation","setEmergencyLocation","emergencyDetails","setEmergencyDetails","loadingContacts","setLoadingContacts","loadingMessages","setLoadingMessages","sendingMessage","setSendingMessage","messagesEndRef","pollIntervalRef","contactsPollRef","fetchContacts","fetchAlerts","current","clearInterval","setInterval","contactId","_id","id","fetchChatWithUser","fetchMessagesForChat","scrollToBottom","_messagesEndRef$curre","scrollIntoView","behavior","_user$_id","_user$_id$toString","_user$id","_user$id$toString","resp","get","data","rawList","Array","isArray","currentUserId","toString","call","transformedContacts","filter","c","_c$_id","_c$_id$toString","_c$id","_c$id$toString","map","contact","_contact$unread","name","fullName","avatar","charAt","toUpperCase","role","roleLabel","slice","status","isLoggedIn","category","unread","phone","error","console","userId","_userId$toString","_resp$data","chat","chatId","transformedMessages","msg","_msg$senderId","_msg$senderId$toStrin","_user$_id2","_user$_id2$toString","_user$id2","_user$id2$toString","senderId","text","content","time","Date","timestamp","toLocaleTimeString","hour","minute","isOwn","read","patch","catch","err","showLoading","_user$_id3","_user$_id3$toString","_user$id3","_user$id3$toString","list","_msg$senderId2","_msg$senderId2$toStri","_msg$senderId3","_msg$senderId3$_id","_msg$senderId3$_id$to","senderIdStr","handleSendMessage","e","preventDefault","trim","messageText","optimisticMessage","now","prev","_data$data","_data$data3","post","_data$data2","newChatId","alert","handleEmergencyRequest","filteredContacts","matchesSearch","toLowerCase","includes","matchesCategory","getStatusColor","getAlertIcon","type","getAlertColor","styles","container","padding","backgroundColor","minHeight","header","marginBottom","title","fontSize","fontWeight","color","margin","subtitle","mainGrid","display","gridTemplateColumns","gap","height","contactsPanel","borderRadius","boxShadow","flexDirection","overflow","contactsHeader","borderBottom","searchInput","width","border","outline","filterTabs","filterTab","cursor","transition","contactsList","flex","overflowY","contactItem","alignItems","contactAvatar","justifyContent","marginRight","position","statusDot","bottom","right","contactInfo","contactName","contactRole","unreadBadge","chatPanel","chatHeader","chatHeaderInfo","chatActions","actionBtn","chatMessages","emptyChat","messageRow","messageRowOwn","messageBubble","maxWidth","lineHeight","messageTime","marginTop","chatInputArea","borderTop","chatForm","messageInput","sendBtn","rightPanel","quickActions","sectionTitle","quickActionBtns","quickActionBtn","emergencyBtn","alertsSection","alertsList","alertItem","alertContent","alertTitle","alertTime","modalOverlay","top","left","zIndex","modal","modalHeader","modalTitle","closeBtn","background","formGroup","label","select","input","boxSizing","textarea","resize","submitEmergencyBtn","appName","children","style","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","key","tab","onClick","textAlign","length","href","textDecoration","message","borderBottomRightRadius","borderBottomLeftRadius","ref","onSubmit","disabled","opacity","stopPropagation","required","_c","$RefreshReg$"],"sources":["E:/ECU-Materials/Senior - 2/Graduation Project/semester 2 isa/software reham- rahma/v1 soft app/EXIR/frontend/src/pages/doctor/DoctorMessages.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport Layout from '../../components/common/Layout';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\n\r\nconst DoctorMessages = () => {\r\n  const { user } = useAuth();\r\n  const [contacts, setContacts] = useState([]);\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [currentChatId, setCurrentChatId] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterCategory, setFilterCategory] = useState('all');\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\r\n  const [emergencyType, setEmergencyType] = useState('');\r\n  const [emergencyLocation, setEmergencyLocation] = useState('');\r\n  const [emergencyDetails, setEmergencyDetails] = useState('');\r\n  const [loadingContacts, setLoadingContacts] = useState(true);\r\n  const [loadingMessages, setLoadingMessages] = useState(false);\r\n  const [sendingMessage, setSendingMessage] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const pollIntervalRef = useRef(null);\r\n  const contactsPollRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchContacts();\r\n    fetchAlerts();\r\n\r\n    if (contactsPollRef.current) clearInterval(contactsPollRef.current);\r\n    contactsPollRef.current = setInterval(() => {\r\n      fetchContacts();\r\n    }, 10000);\r\n\r\n    return () => {\r\n      if (pollIntervalRef.current) clearInterval(pollIntervalRef.current);\r\n      if (contactsPollRef.current) clearInterval(contactsPollRef.current);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedContact) {\r\n      const contactId = selectedContact._id || selectedContact.id;\r\n      fetchChatWithUser(contactId);\r\n\r\n      if (pollIntervalRef.current) {\r\n        clearInterval(pollIntervalRef.current);\r\n      }\r\n      pollIntervalRef.current = setInterval(() => {\r\n        if (currentChatId) {\r\n          fetchMessagesForChat(currentChatId, false);\r\n        }\r\n      }, 5000);\r\n    }\r\n\r\n    return () => {\r\n      if (pollIntervalRef.current) {\r\n        clearInterval(pollIntervalRef.current);\r\n      }\r\n    };\r\n  }, [selectedContact]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const fetchContacts = async () => {\r\n    try {\r\n      setLoadingContacts(true);\r\n      const resp = await api.get('/chat/contacts');\r\n      const data = resp.data;\r\n      const rawList = Array.isArray(data?.data) ? data.data : (Array.isArray(data) ? data : []);\r\n      const currentUserId = user?._id?.toString?.() || user?.id?.toString?.();\r\n      const transformedContacts = rawList\r\n        .filter(c => (c._id?.toString?.() || c.id?.toString?.()) !== currentUserId)\r\n        .map(contact => ({\r\n          ...contact,\r\n          _id: contact._id || contact.id,\r\n          id: contact._id || contact.id,\r\n          name: contact.name || contact.fullName || 'Unknown',\r\n          fullName: contact.fullName || contact.name,\r\n          avatar: (contact.avatar || (contact.fullName || contact.name || '?').charAt(0)).toUpperCase(),\r\n          role: contact.roleLabel || (contact.role ? contact.role.charAt(0).toUpperCase() + contact.role.slice(1) : 'Staff'),\r\n          status: contact.status || (contact.isLoggedIn ? 'online' : 'offline'),\r\n          category: contact.category || (contact.role === 'doctor' ? 'doctors' : contact.role === 'nurse' ? 'nurses' : 'other'),\r\n          unread: contact.unread ?? 0,\r\n          phone: contact.phone || null\r\n        }));\r\n      setContacts(transformedContacts);\r\n    } catch (error) {\r\n      console.error('Failed to fetch contacts:', error);\r\n      setContacts([]);\r\n    } finally {\r\n      setLoadingContacts(false);\r\n    }\r\n  };\r\n\r\n  const fetchChatWithUser = async (userId) => {\r\n    const id = userId?.toString?.();\r\n    if (!id) return;\r\n    try {\r\n      setLoadingMessages(true);\r\n      const resp = await api.get(`/chat/with/${id}`);\r\n      const chat = resp.data?.data || resp.data;\r\n      const chatId = chat?._id || chat?.chatId;\r\n      setCurrentChatId(chatId);\r\n\r\n      const transformedMessages = (chat.messages || []).map(msg => ({\r\n        id: msg._id,\r\n        senderId: msg.senderId,\r\n        text: msg.content,\r\n        time: new Date(msg.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\r\n        isOwn: (msg.senderId?.toString?.() || msg.senderId) === (user?._id?.toString?.() || user?.id?.toString?.()),\r\n        read: msg.read\r\n      }));\r\n      setMessages(transformedMessages);\r\n\r\n      if (chatId) {\r\n        api.patch(`/chat/${chatId}/read`).catch(err => console.error('Failed to mark as read:', err));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch chat:', error);\r\n      setMessages([]);\r\n    } finally {\r\n      setLoadingMessages(false);\r\n    }\r\n  };\r\n\r\n  const fetchMessagesForChat = async (chatId, showLoading = true) => {\r\n    if (!chatId) return;\r\n    try {\r\n      if (showLoading) setLoadingMessages(true);\r\n      const resp = await api.get(`/chat/${chatId}/messages`);\r\n      const data = resp.data;\r\n      const list = Array.isArray(data?.data) ? data.data : (Array.isArray(data) ? data : []);\r\n      const currentUserId = user?._id?.toString?.() || user?.id?.toString?.();\r\n      const transformedMessages = list.map(msg => {\r\n        const senderIdStr = msg.senderId?.toString?.() || msg.senderId?._id?.toString?.() || '';\r\n        return {\r\n          id: msg._id,\r\n          senderId: msg.senderId,\r\n          text: msg.content,\r\n          time: new Date(msg.timestamp).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\r\n          isOwn: senderIdStr === currentUserId,\r\n          read: msg.read\r\n        };\r\n      });\r\n      setMessages(transformedMessages);\r\n    } catch (error) {\r\n      console.error('Failed to fetch messages:', error);\r\n    } finally {\r\n      if (showLoading) setLoadingMessages(false);\r\n    }\r\n  };\r\n\r\n  const fetchAlerts = async () => {\r\n    setAlerts([]);\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !selectedContact || sendingMessage) return;\r\n\r\n    const messageText = newMessage;\r\n    setNewMessage('');\r\n\r\n    const optimisticMessage = {\r\n      id: Date.now(),\r\n      senderId: user?._id,\r\n      text: messageText,\r\n      time: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }),\r\n      isOwn: true,\r\n    };\r\n    setMessages(prev => [...prev, optimisticMessage]);\r\n\r\n    try {\r\n      setSendingMessage(true);\r\n      const contactId = selectedContact._id || selectedContact.id;\r\n      const resp = await api.post(`/chat/send/${contactId}`, { content: messageText });\r\n      const data = resp.data;\r\n\r\n      if (!currentChatId && (data.data?.chatId || data.chatId)) {\r\n        setCurrentChatId(data.data?.chatId || data.chatId);\r\n      }\r\n\r\n      const newChatId = currentChatId || data.data?.chatId || data.chatId;\r\n      if (newChatId) {\r\n        await fetchMessagesForChat(newChatId, false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to send message:', error);\r\n      setMessages(prev => prev.filter(msg => msg.id !== optimisticMessage.id));\r\n      setNewMessage(messageText);\r\n      alert('Failed to send message. Please try again.');\r\n    } finally {\r\n      setSendingMessage(false);\r\n    }\r\n  };\r\n\r\n  const handleEmergencyRequest = async (e) => {\r\n    e.preventDefault();\r\n    alert(`Emergency Alert Sent!\\nType: ${emergencyType}\\nLocation: ${emergencyLocation}\\nDetails: ${emergencyDetails}`);\r\n    setShowEmergencyModal(false);\r\n    setEmergencyType('');\r\n    setEmergencyLocation('');\r\n    setEmergencyDetails('');\r\n  };\r\n\r\n  const filteredContacts = contacts.filter((contact) => {\r\n    const matchesSearch = contact.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesCategory = filterCategory === 'all' || contact.category === filterCategory;\r\n    return matchesSearch && matchesCategory;\r\n  });\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'online': return '#22c55e';\r\n      case 'busy': return '#f59e0b';\r\n      case 'offline': return '#9ca3af';\r\n      default: return '#9ca3af';\r\n    }\r\n  };\r\n\r\n  const getAlertIcon = (type) => {\r\n    switch (type) {\r\n      case 'urgent': return 'ðŸš¨';\r\n      case 'warning': return 'âš ï¸';\r\n      case 'info': return 'â„¹ï¸';\r\n      default: return 'ðŸ“¢';\r\n    }\r\n  };\r\n\r\n  const getAlertColor = (type) => {\r\n    switch (type) {\r\n      case 'urgent': return '#fee2e2';\r\n      case 'warning': return '#fef3c7';\r\n      case 'info': return '#e0f2fe';\r\n      default: return '#f3f4f6';\r\n    }\r\n  };\r\n\r\n  const styles = {\r\n    container: { padding: '24px', backgroundColor: '#f8fafc', minHeight: 'calc(100vh - 64px)' },\r\n    header: { marginBottom: '24px' },\r\n    title: { fontSize: '28px', fontWeight: '700', color: '#1e293b', margin: 0 },\r\n    subtitle: { color: '#64748b', margin: '4px 0 0 0' },\r\n    mainGrid: { display: 'grid', gridTemplateColumns: '320px 1fr 300px', gap: '24px', height: 'calc(100vh - 180px)' },\r\n    contactsPanel: { backgroundColor: 'white', borderRadius: '16px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', display: 'flex', flexDirection: 'column', overflow: 'hidden' },\r\n    contactsHeader: { padding: '20px', borderBottom: '1px solid #e2e8f0' },\r\n    searchInput: { width: '100%', padding: '12px 16px', border: '1px solid #e2e8f0', borderRadius: '12px', fontSize: '14px', marginBottom: '12px', outline: 'none' },\r\n    filterTabs: { display: 'flex', gap: '8px' },\r\n    filterTab: { padding: '8px 12px', border: 'none', borderRadius: '20px', fontSize: '12px', fontWeight: '500', cursor: 'pointer', transition: 'all 0.2s' },\r\n    contactsList: { flex: 1, overflowY: 'auto', padding: '12px' },\r\n    contactItem: { display: 'flex', alignItems: 'center', padding: '12px', borderRadius: '12px', cursor: 'pointer', marginBottom: '4px', transition: 'all 0.2s' },\r\n    contactAvatar: { width: '48px', height: '48px', borderRadius: '50%', backgroundColor: '#0ea5e9', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: '600', fontSize: '14px', marginRight: '12px', position: 'relative' },\r\n    statusDot: { position: 'absolute', bottom: '2px', right: '2px', width: '12px', height: '12px', borderRadius: '50%', border: '2px solid white' },\r\n    contactInfo: { flex: 1 },\r\n    contactName: { fontWeight: '600', color: '#1e293b', fontSize: '14px', marginBottom: '2px' },\r\n    contactRole: { color: '#64748b', fontSize: '12px' },\r\n    unreadBadge: { backgroundColor: '#ef4444', color: 'white', borderRadius: '50%', width: '20px', height: '20px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '11px', fontWeight: '600' },\r\n    chatPanel: { backgroundColor: 'white', borderRadius: '16px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', display: 'flex', flexDirection: 'column', overflow: 'hidden' },\r\n    chatHeader: { padding: '16px 20px', borderBottom: '1px solid #e2e8f0', display: 'flex', alignItems: 'center', justifyContent: 'space-between' },\r\n    chatHeaderInfo: { display: 'flex', alignItems: 'center', gap: '12px' },\r\n    chatActions: { display: 'flex', gap: '8px' },\r\n    actionBtn: { padding: '8px 12px', border: '1px solid #e2e8f0', borderRadius: '8px', backgroundColor: 'white', cursor: 'pointer', fontSize: '14px', transition: 'all 0.2s' },\r\n    chatMessages: { flex: 1, overflowY: 'auto', padding: '20px', display: 'flex', flexDirection: 'column', gap: '12px' },\r\n    emptyChat: { flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', color: '#94a3b8' },\r\n    messageRow: { display: 'flex', justifyContent: 'flex-start' },\r\n    messageRowOwn: { display: 'flex', justifyContent: 'flex-end' },\r\n    messageBubble: { maxWidth: '70%', padding: '12px 16px', borderRadius: '16px', fontSize: '14px', lineHeight: '1.5' },\r\n    messageTime: { fontSize: '11px', marginTop: '4px' },\r\n    chatInputArea: { padding: '16px 20px', borderTop: '1px solid #e2e8f0' },\r\n    chatForm: { display: 'flex', gap: '12px' },\r\n    messageInput: { flex: 1, padding: '12px 16px', border: '1px solid #e2e8f0', borderRadius: '24px', fontSize: '14px', outline: 'none' },\r\n    sendBtn: { padding: '12px 24px', backgroundColor: '#0ea5e9', color: 'white', border: 'none', borderRadius: '24px', fontWeight: '600', cursor: 'pointer', transition: 'all 0.2s' },\r\n    rightPanel: { display: 'flex', flexDirection: 'column', gap: '16px' },\r\n    quickActions: { backgroundColor: 'white', borderRadius: '16px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', padding: '20px' },\r\n    sectionTitle: { fontSize: '16px', fontWeight: '600', color: '#1e293b', marginBottom: '16px' },\r\n    quickActionBtns: { display: 'flex', flexDirection: 'column', gap: '8px' },\r\n    quickActionBtn: { padding: '12px 16px', border: '1px solid #e2e8f0', borderRadius: '12px', backgroundColor: 'white', cursor: 'pointer', fontSize: '14px', fontWeight: '500', display: 'flex', alignItems: 'center', gap: '10px', transition: 'all 0.2s' },\r\n    emergencyBtn: { padding: '14px 16px', backgroundColor: '#ef4444', color: 'white', border: 'none', borderRadius: '12px', cursor: 'pointer', fontSize: '14px', fontWeight: '600', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px', marginTop: '8px', transition: 'all 0.2s' },\r\n    alertsSection: { flex: 1, backgroundColor: 'white', borderRadius: '16px', boxShadow: '0 1px 3px rgba(0,0,0,0.1)', padding: '20px', overflow: 'hidden', display: 'flex', flexDirection: 'column' },\r\n    alertsList: { flex: 1, overflowY: 'auto', display: 'flex', flexDirection: 'column', gap: '8px' },\r\n    alertItem: { padding: '12px', borderRadius: '10px', display: 'flex', gap: '10px' },\r\n    alertContent: { flex: 1 },\r\n    alertTitle: { fontSize: '13px', fontWeight: '500', color: '#1e293b', marginBottom: '2px' },\r\n    alertTime: { fontSize: '11px', color: '#64748b' },\r\n    modalOverlay: { position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0, 0, 0, 0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000 },\r\n    modal: { backgroundColor: 'white', borderRadius: '20px', padding: '24px', width: '90%', maxWidth: '450px', boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)' },\r\n    modalHeader: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' },\r\n    modalTitle: { fontSize: '20px', fontWeight: '700', color: '#ef4444', display: 'flex', alignItems: 'center', gap: '8px' },\r\n    closeBtn: { background: 'none', border: 'none', fontSize: '24px', cursor: 'pointer', color: '#64748b' },\r\n    formGroup: { marginBottom: '16px' },\r\n    label: { display: 'block', marginBottom: '6px', fontWeight: '500', color: '#374151', fontSize: '14px' },\r\n    select: { width: '100%', padding: '12px', border: '1px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none' },\r\n    input: { width: '100%', padding: '12px', border: '1px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none', boxSizing: 'border-box' },\r\n    textarea: { width: '100%', padding: '12px', border: '1px solid #e2e8f0', borderRadius: '10px', fontSize: '14px', outline: 'none', resize: 'vertical', minHeight: '100px', boxSizing: 'border-box' },\r\n    submitEmergencyBtn: { width: '100%', padding: '14px', backgroundColor: '#ef4444', color: 'white', border: 'none', borderRadius: '10px', fontSize: '16px', fontWeight: '600', cursor: 'pointer', marginTop: '8px' },\r\n  };\r\n\r\n  return (\r\n    <Layout appName=\"EXIR\" role=\"doctor\">\r\n      <div style={styles.header}>\r\n        <h1 style={styles.title}>Messages & Communication</h1>\r\n        <p style={styles.subtitle}>Message nurses and colleagues</p>\r\n      </div>\r\n\r\n      <div style={styles.mainGrid}>\r\n        <div style={styles.contactsPanel}>\r\n          <div style={styles.contactsHeader}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search contacts...\"\r\n              style={styles.searchInput}\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <div style={styles.filterTabs}>\r\n              {[\r\n                { key: 'all', label: 'All' },\r\n                { key: 'doctors', label: 'Doctors' },\r\n                { key: 'nurses', label: 'Nurses' },\r\n                { key: 'departments', label: 'Depts' },\r\n              ].map((tab) => (\r\n                <button\r\n                  key={tab.key}\r\n                  style={{\r\n                    ...styles.filterTab,\r\n                    backgroundColor: filterCategory === tab.key ? '#0ea5e9' : '#f1f5f9',\r\n                    color: filterCategory === tab.key ? 'white' : '#64748b',\r\n                  }}\r\n                  onClick={() => setFilterCategory(tab.key)}\r\n                >\r\n                  {tab.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div style={styles.contactsList}>\r\n            {loadingContacts ? (\r\n              <div style={{ textAlign: 'center', padding: '20px', color: '#94a3b8' }}>Loading contacts...</div>\r\n            ) : filteredContacts.length === 0 ? (\r\n              <div style={{ textAlign: 'center', padding: '20px', color: '#94a3b8' }}>No contacts available</div>\r\n            ) : (\r\n              filteredContacts.map((contact) => (\r\n                <div\r\n                  key={contact.id}\r\n                  style={{\r\n                    ...styles.contactItem,\r\n                    backgroundColor: selectedContact?.id === contact.id ? '#e0f2fe' : 'transparent',\r\n                  }}\r\n                  onClick={() => setSelectedContact(contact)}\r\n                >\r\n                  <div style={styles.contactAvatar}>\r\n                    {contact.avatar}\r\n                    <div style={{ ...styles.statusDot, backgroundColor: getStatusColor(contact.status) }} />\r\n                  </div>\r\n                  <div style={styles.contactInfo}>\r\n                    <div style={styles.contactName}>{contact.name}</div>\r\n                    <div style={styles.contactRole}>{contact.role}</div>\r\n                  </div>\r\n                  {contact.unread > 0 && <div style={styles.unreadBadge}>{contact.unread}</div>}\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.chatPanel}>\r\n          {selectedContact ? (\r\n            <>\r\n              <div style={styles.chatHeader}>\r\n                <div style={styles.chatHeaderInfo}>\r\n                  <div style={{ ...styles.contactAvatar, marginRight: 0 }}>\r\n                    {selectedContact.avatar}\r\n                    <div style={{ ...styles.statusDot, backgroundColor: getStatusColor(selectedContact.status) }} />\r\n                  </div>\r\n                  <div>\r\n                    <div style={styles.contactName}>{selectedContact.name}</div>\r\n                    <div style={styles.contactRole}>{selectedContact.role} - {selectedContact.status}</div>\r\n                  </div>\r\n                </div>\r\n                <div style={styles.chatActions}>\r\n                  {selectedContact.phone ? (\r\n                    <a href={`tel:${selectedContact.phone}`} style={{ ...styles.actionBtn, textDecoration: 'none', color: 'inherit' }}>ðŸ“ž Call</a>\r\n                  ) : (\r\n                    <button style={styles.actionBtn} title=\"No phone number on file\">ðŸ“ž Call</button>\r\n                  )}\r\n                  <button style={styles.actionBtn} title=\"Video call (coming soon)\">ðŸ“¹ Video</button>\r\n                </div>\r\n              </div>\r\n              <div style={styles.chatMessages}>\r\n                {loadingMessages ? (\r\n                  <div style={{ textAlign: 'center', padding: '40px', color: '#94a3b8' }}>Loading messages...</div>\r\n                ) : messages.length === 0 ? (\r\n                  <div style={{ textAlign: 'center', padding: '40px', color: '#94a3b8' }}>\r\n                    <div style={{ fontSize: '32px', marginBottom: '8px' }}>ðŸ‘‹</div>\r\n                    <div>No messages yet. Start the conversation!</div>\r\n                  </div>\r\n                ) : (\r\n                  messages.map((message) => (\r\n                    <div key={message.id} style={message.isOwn ? styles.messageRowOwn : styles.messageRow}>\r\n                      <div\r\n                        style={{\r\n                          ...styles.messageBubble,\r\n                          backgroundColor: message.isOwn ? '#0ea5e9' : '#f1f5f9',\r\n                          color: message.isOwn ? 'white' : '#1e293b',\r\n                          borderBottomRightRadius: message.isOwn ? '4px' : '16px',\r\n                          borderBottomLeftRadius: message.isOwn ? '16px' : '4px',\r\n                        }}\r\n                      >\r\n                        <div>{message.text}</div>\r\n                        <div style={{ ...styles.messageTime, color: message.isOwn ? 'rgba(255,255,255,0.7)' : '#94a3b8', textAlign: message.isOwn ? 'right' : 'left' }}>\r\n                          {message.time}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n              <div style={styles.chatInputArea}>\r\n                <form style={styles.chatForm} onSubmit={handleSendMessage}>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Type a message...\"\r\n                    style={styles.messageInput}\r\n                    value={newMessage}\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    disabled={sendingMessage}\r\n                  />\r\n                  <button\r\n                    type=\"submit\"\r\n                    style={{ ...styles.sendBtn, opacity: sendingMessage ? 0.7 : 1, cursor: sendingMessage ? 'not-allowed' : 'pointer' }}\r\n                    disabled={sendingMessage}\r\n                  >\r\n                    {sendingMessage ? 'Sending...' : 'Send'}\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div style={styles.emptyChat}>\r\n              <div style={{ fontSize: '64px', marginBottom: '16px' }}>ðŸ’¬</div>\r\n              <div style={{ fontSize: '18px', fontWeight: '500', marginBottom: '8px' }}>Select a conversation</div>\r\n              <div style={{ fontSize: '14px' }}>Choose a nurse or colleague to message</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div style={styles.rightPanel}>\r\n          <div style={styles.quickActions}>\r\n            <h3 style={styles.sectionTitle}>Quick Actions</h3>\r\n            <div style={styles.quickActionBtns}>\r\n              <button style={styles.quickActionBtn}><span>ðŸ‘¥</span> Group Chat</button>\r\n              <button style={styles.quickActionBtn}><span>ðŸ“‹</span> Call Directory</button>\r\n              <button style={styles.quickActionBtn}><span>ðŸ“¢</span> Broadcast Message</button>\r\n              <button style={styles.emergencyBtn} onClick={() => setShowEmergencyModal(true)}>\r\n                <span>ðŸš¨</span> Emergency Request\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div style={styles.alertsSection}>\r\n            <h3 style={styles.sectionTitle}>Recent Updates & Alerts</h3>\r\n            <div style={styles.alertsList}>\r\n              {alerts.map((alert) => (\r\n                <div key={alert.id} style={{ ...styles.alertItem, backgroundColor: getAlertColor(alert.type), opacity: alert.read ? 0.7 : 1 }}>\r\n                  <span style={{ fontSize: '18px' }}>{getAlertIcon(alert.type)}</span>\r\n                  <div style={styles.alertContent}>\r\n                    <div style={styles.alertTitle}>{alert.title}</div>\r\n                    <div style={styles.alertTime}>{alert.time}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {showEmergencyModal && (\r\n        <div style={styles.modalOverlay} onClick={() => setShowEmergencyModal(false)}>\r\n          <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n            <div style={styles.modalHeader}>\r\n              <h2 style={styles.modalTitle}><span>ðŸš¨</span> Emergency Request</h2>\r\n              <button style={styles.closeBtn} onClick={() => setShowEmergencyModal(false)}>&times;</button>\r\n            </div>\r\n            <form onSubmit={handleEmergencyRequest}>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Emergency Type *</label>\r\n                <select style={styles.select} value={emergencyType} onChange={(e) => setEmergencyType(e.target.value)} required>\r\n                  <option value=\"\">Select type</option>\r\n                  <option value=\"code_blue\">Code Blue - Cardiac Arrest</option>\r\n                  <option value=\"code_red\">Code Red - Fire</option>\r\n                  <option value=\"code_pink\">Code Pink - Infant Abduction</option>\r\n                  <option value=\"code_orange\">Code Orange - Hazmat</option>\r\n                  <option value=\"rapid_response\">Rapid Response Team</option>\r\n                  <option value=\"security\">Security Assistance</option>\r\n                  <option value=\"other\">Other Emergency</option>\r\n                </select>\r\n              </div>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Location *</label>\r\n                <input type=\"text\" style={styles.input} placeholder=\"e.g., Room 305, ICU Ward\" value={emergencyLocation} onChange={(e) => setEmergencyLocation(e.target.value)} required />\r\n              </div>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Details</label>\r\n                <textarea style={styles.textarea} placeholder=\"Provide any additional details...\" value={emergencyDetails} onChange={(e) => setEmergencyDetails(e.target.value)} />\r\n              </div>\r\n              <button type=\"submit\" style={styles.submitEmergencyBtn}>Send Emergency Alert</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DoctorMessages;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}